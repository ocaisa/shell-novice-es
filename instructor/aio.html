<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="es" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>The Unix Shell: Todo en una sola página</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/swc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/swc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/swc/favicon-16x16.png">
<link rel="manifest" href="../favicons/swc/site.webmanifest">
<link rel="mask-icon" href="../favicons/swc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav software"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Ir al contenido principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="swc-logo" alt="Software Carpentry" src="../assets/images/software-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vista de la instructora <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Vista de estudiante</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav software" aria-label="Navegación principal"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Alternar navegación">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menú</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Software Carpentry" src="../assets/images/software-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      The Unix Shell
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Buscar en la página All In One" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            The Unix Shell
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Puntos Clave</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Notas de la instructora</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extraer todas las imágenes</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Más <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Summary of Basic Commands</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Buscar en la página All In One"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Buscar en la página All In One">Buscar en la página All In One</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  The Unix Shell
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress software">
    <div class="progress-bar software" role="progressbar" style="width: %" aria-valuenow="" aria-label="Progreso de la lección" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Cerrar menú" alt="Cerrar menú" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cerrar " data-episodes="Episodios ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vista de la instructora
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Vista de estudiante</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODIOS
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Resumen y agenda</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro.html">1. Introducing the Shell</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-filedir.html">2. Navigating Files and Directories</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-create.html">3. Working With Files and Directories</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-pipefilter.html">4. Pipes and Filters</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-loop.html">5. Loops</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-script.html">6. Shell Scripts</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-find.html">7. Finding Things</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RECURSOS
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Puntos Clave</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Notas de la instructora</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extraer todas las imágenes</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Summary of Basic Commands</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">Todo en una sola página</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-intro"><p>Content from <a href="01-intro.html">Introducing the Shell</a></p>
<hr>
<p>Última actualización: 2024-09-19 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/01-intro.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 5 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Qué es un intérprete de comandos y por qué debería utilizarlo?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Explique cómo se relaciona el shell con el teclado, la pantalla, el
sistema operativo y los programas de los usuarios.</li>
<li>Explique cuándo y por qué deben utilizarse interfaces de línea de
comandos en lugar de interfaces gráficas.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="fondo">Fondo<a class="anchor" aria-label="anchor" href="#fondo"></a>
</h3>
<p>Los seres humanos y los ordenadores interactúan habitualmente de
muchas formas diferentes, como por ejemplo a través de un teclado y un
ratón, interfaces de pantalla táctil o utilizando sistemas de
reconocimiento de voz. La forma más utilizada de interactuar con los
ordenadores personales se denomina <strong>interfaz gráfica de
usuario</strong> (GUI). Con una GUI, damos instrucciones haciendo clic
con el ratón y utilizando interacciones basadas en menús.</p>
<p>Aunque la ayuda visual de una GUI hace que el aprendizaje sea
intuitivo, esta forma de dar instrucciones a un ordenador es muy poco
escalable. Imagine la siguiente tarea: para una búsqueda bibliográfica,
tiene que copiar la tercera línea de mil archivos de texto en mil
directorios diferentes y pegarla en un único archivo. Con una interfaz
gráfica de usuario, no sólo pasaría varias horas haciendo clic en su
escritorio, sino que también podría cometer un error en el proceso de
realización de esta tarea repetitiva. Aquí es donde aprovechamos las
ventajas del shell de Unix. El shell de Unix es a la vez una interfaz de
línea de comandos (CLI) y un lenguaje de scripting, que permite realizar
estas tareas repetitivas de forma automática y rápida. Con los comandos
adecuados, el shell puede repetir tareas con o sin alguna modificación
tantas veces como queramos. Utilizando el shell, la tarea del ejemplo de
la bibliografía puede realizarse en cuestión de segundos.</p>
</div>
<div class="section level3">
<h3 id="el-caparazón">El caparazón<a class="anchor" aria-label="anchor" href="#el-caparaz%C3%B3n"></a>
</h3>
<p>El shell es un programa en el que los usuarios pueden escribir
comandos. Con el shell, es posible invocar programas complicados como el
software de modelado climático o comandos sencillos que crean un
directorio vacío con una sola línea de código. El intérprete de comandos
Unix más popular es Bash (Bourne Again SHell, así llamado porque deriva
de un intérprete de comandos escrito por Stephen Bourne). Bash es el
shell por defecto en la mayoría de las implementaciones modernas de Unix
y en la mayoría de los paquetes que proporcionan herramientas tipo Unix
para Windows. Ten en cuenta que ‘Git Bash’ es una pieza de software que
permite a los usuarios de Windows utilizar una interfaz similar a Bash
cuando interactúan con Git.</p>
<p>Usar el shell te llevará algo de esfuerzo y algo de tiempo
aprenderlo. Mientras que una GUI te presenta opciones para seleccionar,
las opciones de la CLI no se te presentan automáticamente, por lo que
debes aprender algunos comandos como nuevo vocabulario en un idioma que
estás estudiando. Sin embargo, a diferencia de un idioma hablado, un
pequeño número de “palabras” (es decir, comandos) te lleva un largo
camino, y vamos a cubrir esos pocos esenciales hoy.</p>
<p>La gramática de un shell permite combinar herramientas existentes en
potentes pipelines y manejar grandes volúmenes de datos de forma
automática. Las secuencias de comandos pueden escribirse en un
<em>script</em>, lo que mejora la reproducibilidad de los flujos de
trabajo.</p>
<p>Además, la línea de comandos suele ser la forma más sencilla de
interactuar con máquinas remotas y superordenadores. La familiaridad con
el shell es casi esencial para ejecutar una variedad de herramientas y
recursos especializados, incluidos los sistemas informáticos de alto
rendimiento. A medida que los clústeres y los sistemas de computación en
nube se hacen más populares para el procesamiento de datos científicos,
ser capaz de interactuar con el intérprete de comandos se está
convirtiendo en una habilidad necesaria. Los conocimientos sobre la
línea de comandos que aquí se exponen nos permitirán abordar una amplia
gama de cuestiones científicas y retos computacionales.</p>
<p>Empecemos.</p>
<p>Cuando el intérprete de comandos se abre por primera vez, aparece un
<strong>prompt</strong>, que indica que el intérprete de comandos está
esperando la entrada de datos.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span></span></code></pre>
</div>
<p>El shell normalmente utiliza <code>$</code> como prompt, pero puede
utilizar un símbolo diferente. En los ejemplos de esta lección,
mostraremos el prompt como <code>$</code>. Lo más importante, <em>no
escribas el prompt</em> cuando escribas comandos. Sólo escriba el
comando que sigue al prompt. Esta regla se aplica tanto en estas
lecciones como en lecciones de otras fuentes. Ten en cuenta también que
después de escribir un comando, tienes que pulsar la tecla
<kbd>Enter</kbd> para ejecutarlo.</p>
<p>El prompt va seguido de un <strong>cursor de texto</strong>, un
carácter que indica la posición en la que aparecerá lo que escribas. El
cursor suele ser un bloque parpadeante o sólido, pero también puede ser
un guión bajo o un tubo. Es posible que lo hayas visto en un programa
editor de texto, por ejemplo.</p>
<p>Ten en cuenta que tu prompt puede ser un poco diferente. En
particular, los entornos de shell más populares ponen por defecto su
nombre de usuario y el nombre del host antes de <code>$</code>. Un
prompt de este tipo podría tener, por ejemplo, el aspecto siguiente</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">nelle@localhost</span> $</span></code></pre>
</div>
<p>El mensaje puede incluir más que esto. No se preocupe si su pregunta
no es sólo una <code>$</code> corta. Esta lección no depende de esta
información adicional y tampoco debería ser un obstáculo. Lo único
importante es centrarse en el carácter <code>$</code> y más adelante
veremos por qué.</p>
<p>Así que vamos a probar nuestro primer comando, <code>ls</code>, que
es la abreviatura de listado. Este comando listará el contenido del
directorio actual:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Desktop     Downloads   Movies      Pictures
Documents   Library     Music       Public</code></pre>
</div>
<div id="comando-no-encontrado" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comando-no-encontrado" class="callout-inner">
<h3 class="callout-title">Comando no encontrado</h3>
<div class="callout-content">
<p>Si el intérprete de comandos no puede encontrar un programa cuyo
nombre coincida con el comando que has escrito, imprimirá un mensaje de
error del tipo</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> ks</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ks: command not found</code></pre>
</div>
<p>Esto puede ocurrir si el comando se ha escrito mal o si el programa
correspondiente a ese comando no está instalado.</p>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="la-tubería-de-nelle-un-problema-típico">La tubería de Nelle: Un problema típico<a class="anchor" aria-label="anchor" href="#la-tuber%C3%ADa-de-nelle-un-problema-t%C3%ADpico"></a>
</h2>
<hr class="half-width">
<p>Nelle Nemo, bióloga marina, acaba de regresar de un estudio de seis
meses en el <a href="https://en.wikipedia.org/wiki/North_Pacific_Gyre" class="external-link">Giro del
Pacífico Norte</a>, donde ha estado tomando muestras de vida marina
gelatinosa en el <a href="https://en.wikipedia.org/wiki/Great_Pacific_Garbage_Patch" class="external-link">Gran
Parche de Basura del Pacífico</a>. Tiene 1520 muestras que ha pasado por
una máquina de ensayo para medir la abundancia relativa de 300
proteínas. Tiene que pasar estos 1520 archivos por un programa
imaginario llamado <code>goostats.sh</code>. Además de esta enorme
tarea, tiene que escribir los resultados antes de fin de mes, para que
su artículo pueda aparecer en un número especial de <em>Aquatic Goo
Letters</em>.</p>
<p>Si Nelle decide ejecutar <code>goostats.sh</code> a mano utilizando
una interfaz gráfica de usuario, tendrá que seleccionar y abrir un
archivo 1520 veces. Si <code>goostats.sh</code> tarda 30 segundos en
ejecutar cada archivo, todo el proceso requerirá más de 12 horas de la
atención de Nelle. Con el intérprete de comandos, Nelle puede asignar a
su ordenador esta tarea mundana mientras se concentra en escribir su
trabajo.</p>
<p>Las siguientes lecciones explorarán las formas en que Nelle puede
conseguirlo. Más concretamente, las lecciones explican cómo puede
utilizar un intérprete de comandos para ejecutar el programa
<code>goostats.sh</code>, utilizando bucles para automatizar los pasos
repetitivos de introducción de nombres de archivo, de modo que su
ordenador pueda trabajar mientras ella escribe su trabajo.</p>
<p>Además, una vez que haya creado una cadena de procesamiento, podrá
volver a utilizarla cada vez que recopile más datos.</p>
<p>Para llevar a cabo su tarea, Nelle necesita saber cómo:</p>
<ul>
<li>navegar a un archivo/directorio</li>
<li>crear un archivo/directorio</li>
<li>comprobar la longitud de un fichero</li>
<li>encadenar comandos</li>
<li>recuperar un conjunto de archivos</li>
<li>iterar sobre ficheros</li>
<li>ejecuta un script shell que contiene su pipeline</li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>Un shell es un programa cuyo objetivo principal es leer órdenes y
ejecutar otros programas.</li>
<li>Esta lección utiliza Bash, el shell por defecto en muchas
implementaciones de Unix.</li>
<li>Los programas pueden ejecutarse en Bash introduciendo comandos en la
línea de comandos.</li>
<li>Las principales ventajas del shell son su elevada relación entre
acciones y pulsaciones, su soporte para automatizar tareas repetitivas y
su capacidad para acceder a máquinas conectadas en red.</li>
<li>Un reto importante al utilizar el shell puede ser saber qué comandos
hay que ejecutar y cómo ejecutarlos.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-02-filedir"><p>Content from <a href="02-filedir.html">Navigating Files and Directories</a></p>
<hr>
<p>Última actualización: 2024-09-19 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/02-filedir.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 40 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo moverme por mi ordenador?</li>
<li>¿Cómo puedo ver qué archivos y directorios tengo?</li>
<li>¿Cómo puedo especificar la ubicación de un archivo o directorio en
mi ordenador?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Explique las semejanzas y diferencias entre un fichero y un
directorio.</li>
<li>Convierte una ruta absoluta en relativa y viceversa.</li>
<li>Construir rutas absolutas y relativas que identifiquen archivos y
directorios específicos.</li>
<li>Utiliza opciones y argumentos para cambiar el comportamiento de un
comando del shell.</li>
<li>Demostrar el uso del tabulador y explicar sus ventajas.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Notas de la instructora </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor1" aria-labelledby="headingInstructor1">
<div class="accordion-body">
<p>Introducir y navegar por el sistema de archivos en el shell (tratado
en la sección <a href="02-filedir.html">Navegar por archivos y
directorios</a>) puede resultar confuso. Puede tener tanto la terminal
como el explorador de archivos GUI abiertos uno al lado del otro para
que los alumnos puedan ver el contenido y la estructura de archivos
mientras utilizan la terminal para navegar por el sistema.</p>
</div>
</div>
</div>
</div>
<p>La parte del sistema operativo encargada de gestionar los archivos y
directorios se denomina <strong>sistema de archivos</strong>. Organiza
nuestros datos en archivos, que contienen información, y directorios
(también llamados “carpetas”), que contienen archivos u otros
directorios.</p>
<p>Hay varios comandos que se utilizan con frecuencia para crear,
inspeccionar, renombrar y eliminar archivos y directorios. Para empezar
a explorarlos, iremos a nuestra ventana de shell abierta.</p>
<p>Primero, averigüemos dónde estamos ejecutando un comando llamado
<code>pwd</code> (que significa ‘imprimir directorio de trabajo’). Los
directorios son como <em>lugares</em> - en cualquier momento mientras
usamos el shell, estamos exactamente en un lugar llamado nuestro
<strong>directorio de trabajo actual</strong>. La mayoría de los
comandos leen y escriben archivos en el directorio de trabajo actual, es
decir, “aquí”, por lo que es importante saber dónde nos encontramos
antes de ejecutar un comando. <code>pwd</code> te muestra dónde
estás:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle</code></pre>
</div>
<p>Aquí, la respuesta del ordenador es <code>/Users/nelle</code>, que es
el <strong>directorio de inicio</strong> de Nelle:</p>
<div id="variación-del-directorio-de-inicio" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="variación-del-directorio-de-inicio" class="callout-inner">
<h3 class="callout-title">Variación del directorio de inicio</h3>
<div class="callout-content">
<p>La ruta del directorio de inicio tendrá un aspecto diferente en los
distintos sistemas operativos. En Linux, puede parecerse a
<code>/home/nelle</code>, y en Windows, será similar a
<code>C:\Documents and Settings\nelle</code> o
<code>C:\Users\nelle</code>. (Tenga en cuenta que puede tener un aspecto
ligeramente diferente para las distintas versiones de Windows.) En
futuros ejemplos, hemos utilizado la salida de Mac por defecto - la
salida de Linux y Windows puede diferir ligeramente, pero en general
debería ser similar.</p>
<p>También asumiremos que tu comando <code>pwd</code> devuelve el
directorio home de tu usuario. Si <code>pwd</code> devuelve algo
diferente, puede que necesites navegar hasta allí usando <code>cd</code>
o algunos comandos de esta lección no funcionarán como están escritos.
Ver <a href="#explorando-otros-directorios">Explorando otros
directorios</a> para más detalles sobre el comando <code>cd</code>.</p>
</div>
</div>
</div>
<p>Para entender qué es un “directorio personal”, veamos cómo está
organizado el sistema de archivos en su conjunto. En este ejemplo,
ilustraremos el sistema de archivos del ordenador de nuestra científica
Nelle. Después de esta ilustración, aprenderás comandos para explorar tu
propio sistema de archivos, que estará construido de forma similar, pero
no será exactamente idéntico.</p>
<p>En el ordenador de Nelle, el sistema de archivos tiene este
aspecto:</p>
<figure><img src="../fig/filesystem.svg" alt="El sistema de ficheros se compone de un directorio raíz que contiene subdirectorios titulados bin, data, users y tmp" class="figure mx-auto d-block"></figure><p>El sistema de ficheros se parece a un árbol invertido. El directorio
superior es el <strong>directorio raíz</strong> que contiene todo lo
demás. Nos referimos a él utilizando un carácter de barra oblicua,
<code>/</code>, por sí solo; este carácter es la barra oblicua inicial
de <code>/Users/nelle</code>.</p>
<p>Dentro de ese directorio hay otros directorios: <code>bin</code> (que
es donde se almacenan algunos programas incorporados), <code>data</code>
(para archivos de datos varios), <code>Users</code> (donde se encuentran
los directorios personales de los usuarios), <code>tmp</code> (para
archivos temporales que no necesitan almacenarse a largo plazo),
etc.</p>
<p>Sabemos que nuestro directorio de trabajo actual
<code>/Users/nelle</code> está almacenado dentro de <code>/Users</code>
porque <code>/Users</code> es la primera parte de su nombre. Del mismo
modo, sabemos que <code>/Users</code> está dentro del directorio raíz
<code>/</code> porque su nombre empieza por <code>/</code>.</p>
<div id="barra-oblicua" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="barra-oblicua" class="callout-inner">
<h3 class="callout-title">Barra oblicua</h3>
<div class="callout-content">
<p>Observe que el carácter <code>/</code> tiene dos significados. Cuando
aparece al principio del nombre de un fichero o directorio, se refiere
al directorio raíz. Cuando aparece <em>dentro</em> de una ruta, es sólo
un separador.</p>
</div>
</div>
</div>
<p>Debajo de <code>/Users</code>, encontramos un directorio para cada
usuario con una cuenta en la máquina de Nelle, sus colegas
<em>imhotep</em> y <em>larry</em>.</p>
<figure><img src="../fig/home-directories.svg" alt='Al igual que otros directorios, los directorios personales son subdirectorios que se encuentran debajo de "/Usuarios", como "/Usuarios/imhotep", "/Usuarios/larry" o"/Usuarios/nelle"' class="figure mx-auto d-block"></figure><p>Los archivos del usuario <em>imhotep</em> se almacenan en
<code>/Users/imhotep</code>, los del usuario <em>larry</em> en
<code>/Users/larry</code>, y los de Nelle en <code>/Users/nelle</code>.
Nelle es el usuario en nuestros ejemplos aquí; por lo tanto, obtenemos
<code>/Users/nelle</code> como nuestro directorio personal. Normalmente,
cuando abres un nuevo símbolo del sistema, estarás en tu directorio
personal para empezar.</p>
<p>Ahora vamos a aprender el comando que nos permitirá ver el contenido
de nuestro propio sistema de ficheros. Podemos ver lo que hay en nuestro
directorio personal ejecutando <code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications Documents    Library      Music        Public
Desktop      Downloads    Movies       Pictures</code></pre>
</div>
<p>(De nuevo, tus resultados pueden ser ligeramente diferentes
dependiendo de tu sistema operativo y de cómo hayas personalizado tu
sistema de ficheros)</p>
<p><code>ls</code> imprime los nombres de los ficheros y directorios del
directorio actual. Podemos hacer su salida más comprensible utilizando
la <strong>opción</strong> <code>-F</code> que indica a <code>ls</code>
que clasifique la salida añadiendo un marcador a los nombres de ficheros
y directorios para indicar de qué se trata:</p>
<ul>
<li>un <code>/</code> al final indica que se trata de un directorio</li>
<li>
<code>@</code> indica un enlace</li>
<li>
<code>*</code> indica un ejecutable</li>
</ul>
<p>Dependiendo de la configuración predeterminada del intérprete de
comandos, éste también puede utilizar colores para indicar si cada
entrada es un archivo o un directorio.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications/ Documents/    Library/      Music/        Public/
Desktop/      Downloads/    Movies/       Pictures/</code></pre>
</div>
<p>Aquí podemos ver que el directorio raíz contiene sólo
<strong>subdirectorios</strong>. Cualquier nombre en la salida que no
tenga un símbolo de clasificación son <strong>archivos</strong> en el
directorio de trabajo actual.</p>
<div id="borrar-su-terminal" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="borrar-su-terminal" class="callout-inner">
<h3 class="callout-title">Borrar su terminal</h3>
<div class="callout-content">
<p>Si la pantalla está demasiado llena, puedes borrarla con el comando
<code>clear</code>. Puedes seguir accediendo a comandos anteriores
utilizando <kbd>↑</kbd> y <kbd>↓</kbd> para desplazarte línea a línea, o
desplazándote por el terminal.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="obtener-ayuda">Obtener ayuda<a class="anchor" aria-label="anchor" href="#obtener-ayuda"></a>
</h3>
<p><code>ls</code> tiene muchas otras <strong>opciones</strong>. Hay dos
formas comunes de averiguar cómo usar un comando y qué opciones acepta —
<strong>dependiendo de tu entorno, puede que sólo una de estas formas
funcione:</strong></p>
<ol style="list-style-type: decimal">
<li>Podemos pasar una opción <code>--help</code> a cualquier comando
(disponible en Linux y Git Bash), por ejemplo</li>
</ol>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">--help</span></span></code></pre>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Podemos leer su manual con <code>man</code> (disponible en Linux y
macOS):</li>
</ol>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> man ls</span></code></pre>
</div>
<p>A continuación describiremos ambas formas.</p>
<div id="ayuda-para-comandos-incorporados" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="ayuda-para-comandos-incorporados" class="callout-inner">
<h3 class="callout-title">Ayuda para comandos incorporados</h3>
<div class="callout-content">
<p>Algunos comandos están integrados en el intérprete de comandos Bash,
en lugar de existir como programas independientes en el sistema de
archivos. Un ejemplo es el comando <code>cd</code> (cambiar directorio).
Si recibes un mensaje como <code>No manual entry for cd</code>, prueba
con <code>help cd</code> en su lugar. El comando <code>help</code> es la
forma de obtener información de uso de <a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html" class="external-link">Bash
built-ins</a>.</p>
</div>
</div>
</div>
<div class="section level4">
<h4 id="la-opción---help">La opción <code>--help</code>
<a class="anchor" aria-label="anchor" href="#la-opci%C3%B3n---help"></a>
</h4>
<p>La mayoría de los comandos de bash y programas que la gente ha
escrito para ser ejecutados desde bash, soportan una opción
<code>--help</code> que muestra más información sobre cómo usar el
comando o programa.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Usage: ls [OPTION]... [FILE]...
List information about the FILEs (the current directory by default).
Sort entries alphabetically if neither -cftuvSUX nor --sort is specified.

Mandatory arguments to long options are mandatory for short options, too.
  -a, --all                  do not ignore entries starting with .
  -A, --almost-all           do not list implied . and ..
      --author               with -l, print the author of each file
  -b, --escape               print C-style escapes for nongraphic characters
      --block-size=SIZE      scale sizes by SIZE before printing them; e.g.,
                               '--block-size=M' prints sizes in units of
                               1,048,576 bytes; see SIZE format below
  -B, --ignore-backups       do not list implied entries ending with ~
  -c                         with -lt: sort by, and show, ctime (time of last
                               modification of file status information);
                               with -l: show ctime and sort by name;
                               otherwise: sort by ctime, newest first
  -C                         list entries by columns
      --color[=WHEN]         colorize the output; WHEN can be 'always' (default
                               if omitted), 'auto', or 'never'; more info below
  -d, --directory            list directories themselves, not their contents
  -D, --dired                generate output designed for Emacs' dired mode
  -f                         do not sort, enable -aU, disable -ls --color
  -F, --classify             append indicator (one of */=&gt;@|) to entries
...        ...        ...</code></pre>
</div>
<div id="cuándo-utilizar-opciones-cortas-o-largas" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="cuándo-utilizar-opciones-cortas-o-largas" class="callout-inner">
<h3 class="callout-title">Cuándo utilizar opciones cortas o largas</h3>
<div class="callout-content">
<p>Cuando existen opciones tanto cortas como largas:</p>
<ul>
<li>Utilice la opción abreviada cuando escriba comandos directamente en
el intérprete de comandos para minimizar las pulsaciones de teclas y
realizar su tarea más rápidamente.</li>
<li>Utilice la opción larga en los guiones para aportar claridad. Se
leerá muchas veces y se escribirá una sola vez.</li>
</ul>
</div>
</div>
</div>
<div id="opciones-de-línea-de-comandos-no-compatibles" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="opciones-de-línea-de-comandos-no-compatibles" class="callout-inner">
<h3 class="callout-title">Opciones de línea de comandos no compatibles</h3>
<div class="callout-content">
<p>Si intenta utilizar una opción que no está soportada, <code>ls</code>
y otros comandos normalmente imprimirán un mensaje de error similar
a:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-j</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: invalid option -- 'j'
Try 'ls --help' for more information.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="el-comando-man">El comando <code>man</code>
<a class="anchor" aria-label="anchor" href="#el-comando-man"></a>
</h4>
<p>La otra forma de conocer <code>ls</code> es escribir</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> man ls</span></code></pre>
</div>
<p>Este comando convertirá tu terminal en una página con una descripción
del comando <code>ls</code> y sus opciones.</p>
<p>Para navegar por las páginas <code>man</code>, puede utilizar
<kbd>↑</kbd> y <kbd>↓</kbd> para desplazarse línea a línea, o pruebe con
<kbd>b</kbd> y <kbd>Barra espaciadora</kbd> para saltar una página
completa hacia arriba y hacia abajo. Para buscar un carácter o palabra
en las páginas <code>man</code>, utilice <kbd>/</kbd> seguido del
carácter o palabra que busca. A veces, una búsqueda dará como resultado
varios resultados. Si es así, puede desplazarse entre ellas con
<kbd>N</kbd> (para avanzar) y <kbd>Mayús</kbd>+<kbd>N</kbd> (para
retroceder).</p>
<p>Para <strong>salir</strong> de las páginas <code>man</code>, pulse
<kbd>q</kbd>.</p>
<div id="páginas-del-manual-en-la-web" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="páginas-del-manual-en-la-web" class="callout-inner">
<h3 class="callout-title">Páginas del manual en la web</h3>
<div class="callout-content">
<p>Por supuesto, existe una tercera forma de acceder a la ayuda de los
comandos: buscar en Internet a través del navegador web. Cuando utilices
la búsqueda en Internet, incluir la frase <code>unix man page</code> en
tu consulta de búsqueda te ayudará a encontrar resultados
relevantes.</p>
<p>GNU proporciona enlaces a sus <a href="https://www.gnu.org/manual/manual.html" class="external-link">manuales</a> incluyendo el
<a href="https://www.gnu.org/software/coreutils/manual/coreutils.html" class="external-link">núcleo
de utilidades GNU</a>, que cubre muchos comandos introducidos en esta
lección.</p>
</div>
</div>
</div>
<div id="explorar-más-opciones-ls" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="explorar-más-opciones-ls" class="callout-inner">
<h3 class="callout-title">Explorar más opciones <code>ls</code>
</h3>
<div class="callout-content">
<p>También puede utilizar dos opciones al mismo tiempo. ¿Qué hace el
comando <code>ls</code> cuando se utiliza con la opción <code>-l</code>?
¿Y si utilizas tanto la opción <code>-l</code> como la
<code>-h</code>?</p>
<p>Parte de sus resultados se refieren a propiedades que no tratamos en
esta lección (como los permisos y la propiedad de los archivos), pero el
resto debería ser útil.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Solución </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>La opción <code>-l</code> hace que <code>ls</code> utilice un formato
de listado <strong>l</strong>largo, mostrando no sólo los nombres de los
ficheros/directorios sino también información adicional, como el tamaño
del fichero y la hora de su última modificación. Si utilizas tanto la
opción <code>-h</code> como la opción <code>-l</code>, esto hace que el
tamaño del fichero sea ‘<strong>h</strong>man readable’, es decir,
mostrando algo como <code>5.3K</code> en lugar de <code>5369</code>.</p>
</div>
</div>
</div>
</div>
<div id="listado-en-orden-cronológico-inverso" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="listado-en-orden-cronológico-inverso" class="callout-inner">
<h3 class="callout-title">Listado en orden cronológico inverso</h3>
<div class="callout-content">
<p>Por defecto, <code>ls</code> lista el contenido de un directorio en
orden alfabético por nombre. El comando <code>ls -t</code> lista los
elementos por la hora del último cambio en lugar de alfabéticamente. El
comando <code>ls -r</code> lista los contenidos de un directorio en
orden inverso. ¿Qué fichero se muestra en último lugar cuando se
combinan las opciones <code>-t</code> y <code>-r</code>? Pista: Puede
que necesites usar la opción <code>-l</code> para ver las fechas de los
últimos cambios.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Solución </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>El fichero modificado más recientemente aparece en último lugar
cuando se utiliza <code>-rt</code>. Esto puede ser muy útil para
encontrar sus ediciones más recientes o para comprobar si se ha escrito
un nuevo archivo de salida.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="explorando-otros-directorios">Explorando otros directorios<a class="anchor" aria-label="anchor" href="#explorando-otros-directorios"></a>
</h3>
<p>No sólo podemos utilizar <code>ls</code> en el directorio de trabajo
actual, sino que también podemos utilizarlo para listar el contenido de
un directorio diferente. Echemos un vistazo a nuestro directorio
<code>Desktop</code> ejecutando <code>ls -F Desktop</code>, es decir, el
comando <code>ls</code> con la <strong>opción</strong> <code>-F</code> y
el [<strong>argumento</strong>][Argumentos] <code>Desktop</code>. El
argumento <code>Desktop</code> indica a <code>ls</code> que queremos un
listado de algo distinto a nuestro directorio de trabajo actual:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>shell-lesson-data/</code></pre>
</div>
<p>Tenga en cuenta que si un directorio llamado <code>Desktop</code> no
existe en su directorio de trabajo actual, este comando devolverá un
error. Típicamente, un directorio <code>Desktop</code> existe en tu
directorio home, el cual asumimos es el directorio de trabajo actual de
tu shell bash.</p>
<p>Su salida debería ser una lista de todos los archivos y
subdirectorios en su directorio de Escritorio, incluyendo el directorio
<code>shell-lesson-data</code> que descargó en el <a href="index.html#setup">setup para esta lección</a>. (En la mayoría de los
sistemas, el contenido del directorio <code>Desktop</code> en el shell
se mostrará como iconos en una interfaz gráfica de usuario detrás de
todas las ventanas abiertas. Compruebe si éste es su caso)</p>
<p>Organizar las cosas jerárquicamente nos ayuda a seguir nuestro
trabajo. Aunque es posible poner cientos de archivos en nuestro
directorio personal, igual que es posible apilar cientos de papeles
impresos en nuestro escritorio, es mucho más fácil encontrar las cosas
cuando se han organizado en subdirectorios con nombres sensatos.</p>
<p>Ahora que sabemos que el directorio <code>shell-lesson-data</code> se
encuentra en nuestro directorio Desktop, podemos hacer dos cosas.</p>
<p>Primero, utilizando la misma estrategia que antes, podemos ver su
contenido pasando un nombre de directorio a <code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> Desktop/shell-lesson-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>exercise-data/  north-pacific-gyre/</code></pre>
</div>
<p>En segundo lugar, podemos cambiar nuestra ubicación a un directorio
diferente, de modo que ya no nos encontremos en nuestro directorio
raíz.</p>
<p>El comando para cambiar de ubicación es <code>cd</code> seguido de un
nombre de directorio para cambiar nuestro directorio de trabajo.
<code>cd</code> significa ‘cambiar directorio’, lo que es un poco
engañoso. El comando no cambia el directorio; cambia el directorio de
trabajo actual del shell. En otras palabras, cambia la configuración de
la shell para saber en qué directorio estamos. El comando
<code>cd</code> es similar a hacer doble clic en una carpeta en una
interfaz gráfica para entrar en esa carpeta.</p>
<p>Supongamos que queremos entrar en el directorio
<code>exercise-data</code> que hemos visto antes. Podemos utilizar la
siguiente serie de comandos para llegar allí:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> cd Desktop</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="ex">$</span> cd shell-lesson-data</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="ex">$</span> cd exercise-data</span></code></pre>
</div>
<p>Estos comandos nos moverán de nuestro directorio de inicio a nuestro
directorio de Escritorio, luego al directorio
<code>shell-lesson-data</code>, luego al directorio
<code>exercise-data</code>. Notarás que <code>cd</code> no imprime nada.
Esto es normal. Muchos comandos del shell no muestran nada en pantalla
cuando se ejecutan correctamente. Pero si ejecutamos <code>pwd</code>
después, podemos ver que ahora estamos en
<code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code>.</p>
<p>Si ahora ejecutamos <code>ls -F</code> sin argumentos, nos muestra el
contenido de
<code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code>,
porque es donde estamos ahora:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>alkanes/  animal-counts/  creatures/  numbers.txt  writing/</code></pre>
</div>
<p>Ya sabemos cómo descender por el árbol de directorios (es decir, cómo
entrar en un subdirectorio), pero ¿cómo ascender (es decir, cómo salir
de un directorio y entrar en su directorio padre)? Podríamos intentar lo
siguiente:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> cd shell-lesson-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>-bash: cd: shell-lesson-data: No such file or directory</code></pre>
</div>
<p>¡Pero obtenemos un error! ¿A qué se debe?</p>
<p>Con nuestros métodos hasta ahora, <code>cd</code> sólo puede ver
subdirectorios dentro de su directorio actual. Hay diferentes maneras de
ver los directorios por encima de su ubicación actual; vamos a empezar
con el más simple.</p>
<p>Existe un atajo en el shell para subir un nivel de directorio.
Funciona de la siguiente manera:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> cd ..</span></code></pre>
</div>
<p><code>..</code> es un nombre de directorio especial que significa “el
directorio que contiene a éste”, o más sucintamente, el
<strong>padre</strong> del directorio actual. Efectivamente, si
ejecutamos <code>pwd</code> después de ejecutar <code>cd ..</code>,
volvemos a estar en
<code>/Users/nelle/Desktop/shell-lesson-data</code>:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data</code></pre>
</div>
<p>El directorio especial <code>..</code> no suele aparecer cuando
ejecutamos <code>ls</code>. Si queremos mostrarlo, podemos añadir la
opción <code>-a</code> a <code>ls -F</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./  ../  exercise-data/  north-pacific-gyre/</code></pre>
</div>
<p><code>-a</code> significa ‘mostrar todo’ (incluyendo ficheros
ocultos); fuerza a <code>ls</code> a mostrarnos nombres de ficheros y
directorios que empiecen por <code>.</code>, como <code>..</code> (que,
si estamos en <code>/Users/nelle</code>, se refiere al directorio
<code>/Users</code>). Como puedes ver, también muestra otro directorio
especial que se llama simplemente <code>.</code>, que significa ‘el
directorio de trabajo actual’. Puede parecer redundante tener un nombre
para él, pero pronto le veremos algunos usos.</p>
<p>Tenga en cuenta que en la mayoría de las herramientas de línea de
comandos, se pueden combinar varias opciones con una sola <code>-</code>
y sin espacios entre las opciones; <code>ls -F -a</code> equivale a
<code>ls -Fa</code>.</p>
<div id="otros-archivos-ocultos" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="otros-archivos-ocultos" class="callout-inner">
<h3 class="callout-title">Otros archivos ocultos</h3>
<div class="callout-content">
<p>Además de los directorios ocultos <code>..</code> y <code>.</code>,
también puede ver un archivo llamado <code>.bash_profile</code>. Este
archivo suele contener ajustes de configuración del shell. También
puedes ver otros ficheros y directorios que empiezan por <code>.</code>.
Normalmente son ficheros y directorios que se utilizan para configurar
diferentes programas en tu ordenador. El prefijo <code>.</code> se
utiliza para evitar que estos archivos de configuración saturen el
terminal cuando se utiliza un comando estándar <code>ls</code>.</p>
</div>
</div>
</div>
<p>Estos tres comandos son los básicos para navegar por el sistema de
ficheros de tu ordenador: <code>pwd</code>, <code>ls</code>, y
<code>cd</code>. Exploremos algunas variaciones de estos comandos. ¿Qué
ocurre si escribes <code>cd</code> solo, sin dar un directorio?</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> cd</span></code></pre>
</div>
<p>¿Cómo puedes comprobar lo que ha pasado? ¡<code>pwd</code> nos da la
respuesta!</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle</code></pre>
</div>
<p>Resulta que <code>cd</code> sin un argumento te devolverá a tu
directorio de inicio, lo que es genial si te has perdido en tu propio
sistema de archivos.</p>
<p>Intentemos volver al directorio <code>exercise-data</code> de antes.
La última vez, usamos tres comandos, pero en realidad podemos encadenar
la lista de directorios para movernos a <code>exercise-data</code> en un
solo paso:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> cd Desktop/shell-lesson-data/exercise-data</span></code></pre>
</div>
<p>Comprueba que nos hemos movido al lugar correcto ejecutando
<code>pwd</code> y <code>ls -F</code>.</p>
<p>Si queremos subir un nivel desde el directorio de datos, podríamos
utilizar <code>cd ..</code>. Pero hay otra forma de moverse a cualquier
directorio, independientemente de su ubicación actual.</p>
<p>Hasta ahora, al especificar nombres de directorio, o incluso una ruta
de directorio (como arriba), hemos estado utilizando <strong>rutas
relativas</strong>. Cuando se utiliza una ruta relativa con un comando
como <code>ls</code> o <code>cd</code>, se intenta encontrar esa
ubicación desde donde nos encontramos, en lugar de desde la raíz del
sistema de ficheros.</p>
<p>Sin embargo, es posible especificar la <strong>ruta absoluta</strong>
a un directorio incluyendo su ruta completa desde el directorio raíz,
que se indica con una barra oblicua inicial. La barra <code>/</code>
indica al ordenador que siga la ruta desde la raíz del sistema de
ficheros, de forma que siempre se refiera exactamente a un directorio,
independientemente de dónde nos encontremos cuando ejecutemos el
comando.</p>
<p>Esto nos permite movernos a nuestro directorio
<code>shell-lesson-data</code> desde cualquier parte del sistema de
ficheros (incluso desde dentro de <code>exercise-data</code>). Para
encontrar la ruta absoluta que buscamos, podemos usar <code>pwd</code> y
luego extraer el trozo que necesitamos mover a
<code>shell-lesson-data</code>.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data/exercise-data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> cd /Users/nelle/Desktop/shell-lesson-data</span></code></pre>
</div>
<p>Ejecuta <code>pwd</code> y <code>ls -F</code> para asegurarte de que
estamos en el directorio que esperamos.</p>
<div id="dos-atajos-más" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dos-atajos-más" class="callout-inner">
<h3 class="callout-title">Dos atajos más</h3>
<div class="callout-content">
<p>El shell interpreta que una tilde (<code>~</code>) al principio de
una ruta significa “el directorio personal del usuario actual”. Por
ejemplo, si el directorio personal de Nelle es
<code>/Users/nelle</code>, entonces <code>~/data</code> equivale a
<code>/Users/nelle/data</code>. Esto sólo funciona si es el primer
carácter de la ruta; <code>here/there/~/elsewhere</code> <em>no</em> es
<code>here/there/Users/nelle/elsewhere</code>.</p>
<p>Otro atajo es el carácter <code>-</code> (guión). <code>cd</code>
traducirá <code>-</code> a <em>el directorio anterior en el que
estaba</em>, lo que es más rápido que tener que recordar, y luego
teclear, la ruta completa. Esta es una forma <em>muy</em> eficiente de
moverse <em>hacia adelante y hacia atrás entre dos directorios</em> – es
decir, si ejecutas <code>cd -</code> dos veces, acabarás de vuelta en el
directorio inicial.</p>
<p>La diferencia entre <code>cd ..</code> y <code>cd -</code> es que el
primero te lleva <em>hacia arriba</em>, mientras que el segundo te lleva
<em>hacia atrás</em>.</p>
<hr>
<p>¡Pruébalo! Primero navega a <code>~/Desktop/shell-lesson-data</code>
(ya deberías estar allí).</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/shell-lesson-data</span></code></pre>
</div>
<p>Luego <code>cd</code> en el directorio
<code>exercise-data/creatures</code></p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> cd exercise-data/creatures</span></code></pre>
</div>
<p>Ahora bien, si ejecuta</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> cd <span class="at">-</span></span></code></pre>
</div>
<p>verás que has vuelto a <code>~/Desktop/shell-lesson-data</code>.
Vuelve a ejecutar <code>cd -</code> y estarás de nuevo en
<code>~/Desktop/shell-lesson-data/exercise-data/creatures</code></p>
</div>
</div>
</div>
<div id="trayectorias-absolutas-vs-relativas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="trayectorias-absolutas-vs-relativas" class="callout-inner">
<h3 class="callout-title">Trayectorias absolutas vs relativas</h3>
<div class="callout-content">
<p>Partiendo de <code>/Users/nelle/data</code>, ¿cuál de los siguientes
comandos podría utilizar Nelle para navegar hasta su directorio
personal, que es <code>/Users/nelle</code>?</p>
<ol style="list-style-type: decimal">
<li><code>cd .</code></li>
<li><code>cd /</code></li>
<li><code>cd /home/nelle</code></li>
<li><code>cd ../..</code></li>
<li><code>cd ~</code></li>
<li><code>cd home</code></li>
<li><code>cd ~/data/..</code></li>
<li><code>cd</code></li>
<li><code>cd ..</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Solución </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <code>.</code> representa el directorio actual.</li>
<li>No: <code>/</code> representa el directorio raíz.</li>
<li>No: el directorio personal de Nelle es
<code>/Users/nelle</code>.</li>
<li>No: este comando sube dos niveles, es decir, termina en
<code>/Users</code>.</li>
<li>Sí: <code>~</code> representa el directorio personal del usuario, en
este caso <code>/Users/nelle</code>.</li>
<li>No: este comando navegaría a un directorio <code>home</code> en el
directorio actual si existe.</li>
<li>Sí: innecesariamente complicado, pero correcto.</li>
<li>Sí: acceso directo para volver al directorio personal del
usuario.</li>
<li>Sí: sube un nivel.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="resolución-relativa-de-la-trayectoria" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="resolución-relativa-de-la-trayectoria" class="callout-inner">
<h3 class="callout-title">Resolución relativa de la trayectoria</h3>
<div class="callout-content">
<p>Utilizando el siguiente diagrama del sistema de ficheros, si
<code>pwd</code> muestra <code>/Users/thing</code>, ¿qué mostrará
<code>ls -F ../backup</code>?</p>
<ol style="list-style-type: decimal">
<li><code>../backup: No such file or directory</code></li>
<li><code>2012-12-01 2013-01-08 2013-01-27</code></li>
<li><code>2012-12-01/ 2013-01-08/ 2013-01-27/</code></li>
<li><code>original/ pnas_final/ pnas_sub/</code></li>
</ol>
<figure><img src="../fig/filesystem-challenge.svg" alt='Un árbol de directorios bajo el directorio Users donde "/Users" contiene los directorios "backup" y "thing"; "/Users/backup" contiene "original", "pnas_final" y "pnas_sub"; "/Users/thing" contiene "backup"; y"/Users/thing/backup" contiene "2012-12-01", "2013-01-08" y "2013-01-27"' class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Solución </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <em>existe</em> un directorio <code>backup</code> en
<code>/Users</code>.</li>
<li>No: este es el contenido de <code>Users/thing/backup</code>, pero
con <code>..</code>, pedimos un nivel más arriba.</li>
<li>No: véase la explicación anterior.</li>
<li>Sí: <code>../backup/</code> se refiere a
<code>/Users/backup/</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="ls-comprensión-lectora" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ls-comprensión-lectora" class="callout-inner">
<h3 class="callout-title">
<code>ls</code> Comprensión lectora</h3>
<div class="callout-content">
<p>Usando el diagrama del sistema de ficheros de abajo, si
<code>pwd</code> muestra <code>/Users/backup</code>, y <code>-r</code>
le dice a <code>ls</code> que muestre las cosas en orden inverso, qué
comando(s) dará(n) como resultado la siguiente salida:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pnas_sub/ pnas_final/ original/</code></pre>
</div>
<figure><img src="../fig/filesystem-challenge.svg" alt='Un árbol de directorios bajo el directorio Users donde "/Users" contiene los directorios "backup" y "thing"; "/Users/backup" contiene "original", "pnas_final" y "pnas_sub"; "/Users/thing" contiene "backup"; y"/Users/thing/backup" contiene "2012-12-01", "2013-01-08" y "2013-01-27"' class="figure mx-auto d-block"></figure><ol style="list-style-type: decimal">
<li><code>ls pwd</code></li>
<li><code>ls -r -F</code></li>
<li><code>ls -r -F /Users/backup</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Solución </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: <code>pwd</code> no es el nombre de un directorio.</li>
<li>Sí: <code>ls</code> sin argumento de directorio lista los archivos y
directorios del directorio actual.</li>
<li>Sí: utiliza la ruta absoluta explícitamente.</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="sintaxis-general-de-un-comando-shell">Sintaxis general de un comando Shell<a class="anchor" aria-label="anchor" href="#sintaxis-general-de-un-comando-shell"></a>
</h2>
<hr class="half-width">
<p>Ya nos hemos encontrado con comandos, opciones y argumentos, pero
quizá sea útil formalizar algo de terminología.</p>
<p>Considere el siguiente comando como un ejemplo general de comando,
que diseccionaremos en sus partes componentes:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> /</span></code></pre>
</div>
<figure><img src="../fig/shell_command_syntax.svg" alt="Sintaxis general de un comando shell" class="figure mx-auto d-block"></figure><p><code>ls</code> es el <strong>comando</strong>, con una
<strong>opción</strong> <code>-F</code> y un <strong>argumento</strong>
<code>/</code>. Ya hemos visto opciones que empiezan con un guión
(<code>-</code>), conocidas como <strong>opciones cortas</strong>, o con
dos guiones (<code>--</code>), conocidas como <strong>opciones
largas</strong>. las [Opciones] cambian el comportamiento de un comando
y los [Argumentos] le indican al comando sobre qué operar (por ejemplo,
archivos y directorios). A veces, las opciones y los argumentos se
denominan <strong>parámetros</strong>. Un comando puede ser llamado con
más de una opción y más de un argumento, pero un comando no siempre
requiere un argumento o una opción.</p>
<p>Puede que a veces veas que se hace referencia a las opciones como
<strong>interruptores</strong> o <strong>banderas</strong>,
especialmente para opciones que no tienen argumento. En esta lección
seguiremos utilizando el término <em>opción</em>.</p>
<p>Cada parte está separada por espacios. Si omite el espacio entre
<code>ls</code> y <code>-F</code> el shell buscará un comando llamado
<code>ls-F</code>, que no existe. Además, las mayúsculas pueden ser
importantes. Por ejemplo, <code>ls -s</code> mostrará el tamaño de los
ficheros y directorios junto a los nombres, mientras que
<code>ls -S</code> ordenará los ficheros y directorios por tamaño, como
se muestra a continuación:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/shell-lesson-data</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-s</span> exercise-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>total 28
 4 animal-counts   4 creatures  12 numbers.txt   4 alkanes   4 writing</code></pre>
</div>
<p>Tenga en cuenta que los tamaños devueltos por <code>ls -s</code>
están en <em>bloques</em>. Como éstos se definen de forma diferente para
los distintos sistemas operativos, es posible que no obtenga las mismas
cifras que en el ejemplo.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-S</span> exercise-data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>animal-counts  creatures  alkanes  writing  numbers.txt</code></pre>
</div>
<p>Juntando todo esto, nuestro comando <code>ls -F /</code> de arriba
nos da un listado de archivos y directorios en el directorio raíz
<code>/</code>. A continuación se muestra un ejemplo de la salida que se
puede obtener con el comando anterior:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> /</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Applications/         System/
Library/              Users/
Network/              Volumes/</code></pre>
</div>
<div class="section level3">
<h3 id="nelles-pipeline-organización-de-archivos">Nelle’s Pipeline: Organización de archivos<a class="anchor" aria-label="anchor" href="#nelles-pipeline-organizaci%C3%B3n-de-archivos"></a>
</h3>
<p>Sabiendo todo esto sobre archivos y directorios, Nelle está lista
para organizar los archivos que creará la máquina de ensayo de
proteínas.</p>
<p>Crea un directorio llamado <code>north-pacific-gyre</code> (para
recordar de dónde proceden los datos), que contendrá los archivos de
datos de la máquina de ensayo y sus scripts de procesamiento de
datos.</p>
<p>Cada una de sus muestras físicas está etiquetada según la convención
de su laboratorio con un ID único de diez caracteres, como “NENE01729A”.
Este ID es el que utiliza en su registro de recogida para anotar la
ubicación, la hora, la profundidad y otras características de la
muestra, por lo que decide utilizarlo en el nombre de archivo de cada
fichero de datos. Como la salida de la máquina de ensayo es texto sin
formato, llamará a sus archivos <code>NENE01729A.txt</code>,
<code>NENE01812A.txt</code>, etcétera. Los 1520 ficheros irán en el
mismo directorio.</p>
<p>Ahora, en su directorio actual <code>shell-lesson-data</code>, Nelle
puede ver qué archivos tiene utilizando el comando</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/</span></code></pre>
</div>
<p>Este comando es muy largo de escribir, pero puede dejar que el shell
haga la mayor parte del trabajo a través de lo que se llama
<strong>completar pestañas</strong>. Si escribe:</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> ls nor</span></code></pre>
</div>
<p>y, a continuación, pulsa <kbd>Tab</kbd> (la tecla de tabulación de su
teclado), el shell completa automáticamente el nombre del directorio por
ella:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/</span></code></pre>
</div>
<p>Pulsar <kbd>Tab</kbd> de nuevo no hace nada, ya que hay múltiples
posibilidades; pulsando <kbd>Tab</kbd> dos veces aparece una lista de
todos los archivos.</p>
<p>Si Nelle pulsa <kbd>G</kbd> y, a continuación, vuelve a pulsar
<kbd>Tab</kbd>, el intérprete de comandos añadirá “goo”, ya que todos
los archivos que empiezan por “g” comparten los tres primeros caracteres
“goo”.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">$</span> ls north-pacific-gyre/goo</span></code></pre>
</div>
<p>Para ver todos esos archivos, puede pulsar <kbd>Tab</kbd> dos veces
más.</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="fu">ls</span> north-pacific-gyre/goo</span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="ex">goodiff.sh</span>   goostats.sh</span></code></pre>
</div>
<p>Esto se llama <strong>completar pestañas</strong>, y lo veremos en
muchas otras herramientas a medida que avancemos.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>El sistema de archivos se encarga de gestionar la información del
disco.</li>
<li>La información se almacena en ficheros, que a su vez se guardan en
directorios (carpetas).</li>
<li>Los directorios también pueden almacenar otros directorios, que
forman un árbol de directorios.</li>
<li>
<code>pwd</code> imprime el directorio de trabajo actual del
usuario.</li>
<li>
<code>ls [path]</code> imprime un listado de un archivo o directorio
específico; <code>ls</code> por sí solo lista el directorio de trabajo
actual.</li>
<li>
<code>cd [path]</code> cambia el directorio de trabajo actual.</li>
<li>La mayoría de los comandos aceptan opciones que empiezan por
<code>-</code>.</li>
<li>Los nombres de directorio de una ruta se separan con <code>/</code>
en Unix, pero con <code>\</code> en Windows.</li>
<li>
<code>/</code> por sí solo es el directorio raíz de todo el sistema
de archivos.</li>
<li>Una ruta absoluta especifica una ubicación desde la raíz del sistema
de archivos.</li>
<li>Una ruta relativa especifica una ubicación a partir de la ubicación
actual.</li>
<li>
<code>.</code> por sí solo significa ‘el directorio actual’;
<code>..</code> significa ‘el directorio por encima del actual’.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-03-create"><p>Content from <a href="03-create.html">Working With Files and Directories</a></p>
<hr>
<p>Última actualización: 2024-09-19 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/03-create.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 50 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo crear, copiar y borrar archivos y directorios?</li>
<li>¿Cómo puedo editar archivos?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Crear una jerarquía de directorios que coincida con un diagrama
dado.</li>
<li>Crea archivos en esa jerarquía utilizando un editor o copiando y
renombrando archivos existentes.</li>
<li>Borrar, copiar y mover archivos y/o directorios especificados.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="creación-de-directorios">Creación de directorios<a class="anchor" aria-label="anchor" href="#creaci%C3%B3n-de-directorios"></a>
</h2>
<hr class="half-width">
<p>Ya sabemos cómo explorar archivos y directorios, pero ¿cómo los
creamos?</p>
<p>En este episodio aprenderemos a crear y mover archivos y directorios,
utilizando como ejemplo el directorio
<code>exercise-data/writing</code>.</p>
<div class="section level3">
<h3 id="primer-paso-ver-dónde-estamos-y-lo-que-ya-tenemos">Primer paso: ver dónde estamos y lo que ya tenemos<a class="anchor" aria-label="anchor" href="#primer-paso-ver-d%C3%B3nde-estamos-y-lo-que-ya-tenemos"></a>
</h3>
<p>Deberíamos seguir en el directorio <code>shell-lesson-data</code> en
el Escritorio, que podemos comprobar utilizando:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/nelle/Desktop/shell-lesson-data</code></pre>
</div>
<p>A continuación pasaremos al directorio
<code>exercise-data/writing</code> y veremos qué contiene:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> cd exercise-data/writing/</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>haiku.txt  LittleWomen.txt</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="crear-un-directorio">Crear un directorio<a class="anchor" aria-label="anchor" href="#crear-un-directorio"></a>
</h3>
<p>Vamos a crear un nuevo directorio llamado <code>thesis</code>
utilizando el comando <code>mkdir thesis</code> (que no tiene
salida):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> mkdir thesis</span></code></pre>
</div>
<p>Como puede adivinar por su nombre, <code>mkdir</code> significa
‘crear directorio’. Dado que <code>thesis</code> es una ruta relativa
(es decir, no tiene una barra inicial, como
<code>/what/ever/thesis</code>), el nuevo directorio se crea en el
directorio de trabajo actual:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>haiku.txt  LittleWomen.txt  thesis/</code></pre>
</div>
<p>Como acabamos de crear el directorio <code>thesis</code>, todavía no
hay nada en él:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> thesis</span></code></pre>
</div>
<p>Tenga en cuenta que <code>mkdir</code> no se limita a crear
directorios individuales de uno en uno. La opción <code>-p</code>
permite a <code>mkdir</code> crear un directorio con subdirectorios
anidados en una sola operación:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> ../project/data ../project/results</span></code></pre>
</div>
<p>La opción <code>-R</code> del comando <code>ls</code> listará todos
los subdirectorios anidados dentro de un directorio. Utilicemos
<code>ls -FR</code> para listar recursivamente la nueva jerarquía de
directorios que acabamos de crear en el directorio
<code>project</code>:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-FR</span> ../project</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>../project/:
data/  results/

../project/data:

../project/results:</code></pre>
</div>
<div id="dos-formas-de-hacer-lo-mismo" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dos-formas-de-hacer-lo-mismo" class="callout-inner">
<h3 class="callout-title">Dos formas de hacer lo mismo</h3>
<div class="callout-content">
<p>Utilizar el shell para crear un directorio no es diferente de
utilizar un explorador de archivos. Si abre el directorio actual
utilizando el explorador gráfico de archivos de su sistema operativo, el
directorio <code>thesis</code> también aparecerá allí. Aunque el shell y
el explorador de archivos son dos formas diferentes de interactuar con
los archivos, los archivos y directorios en sí son los mismos.</p>
</div>
</div>
</div>
<div id="buenos-nombres-para-archivos-y-directorios" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="buenos-nombres-para-archivos-y-directorios" class="callout-inner">
<h3 class="callout-title">Buenos nombres para archivos y directorios</h3>
<div class="callout-content">
<p>Los nombres complicados de archivos y directorios pueden hacerte la
vida imposible cuando trabajas en la línea de comandos. Aquí te damos
algunos consejos útiles para los nombres de tus archivos y
directorios.</p>
<ol style="list-style-type: decimal">
<li>No utilice espacios.</li>
</ol>
<p>Los espacios pueden hacer que un nombre tenga más sentido, pero como
los espacios se utilizan para separar argumentos en la línea de órdenes,
es mejor evitarlos en los nombres de archivos y directorios. Puede
utilizar <code>-</code> o <code>_</code> en su lugar (por ejemplo,
<code>north-pacific-gyre/</code> en lugar de
<code>north pacific gyre/</code>). Para comprobarlo, prueba a escribir
<code>mkdir north pacific gyre</code> y mira qué directorio (¡o
directorios!) se crean cuando lo compruebas con <code>ls -F</code>.</p>
<ol start="2" style="list-style-type: decimal">
<li>No empiece el nombre con <code>-</code> (guión).</li>
</ol>
<p>Los comandos tratan los nombres que empiezan por <code>-</code> como
opciones.</p>
<ol start="3" style="list-style-type: decimal">
<li>Utiliza letras, números, <code>.</code> (punto), <code>-</code>
(guión) y <code>_</code> (guión bajo).</li>
</ol>
<p>Muchos otros caracteres tienen significados especiales en la línea de
comandos. Aprenderemos sobre algunos de ellos durante esta lección. Hay
caracteres especiales que pueden hacer que su comando no funcione como
se espera e incluso pueden provocar la pérdida de datos.</p>
<p>Si necesita hacer referencia a nombres de archivos o directorios que
contengan espacios u otros caracteres especiales, debe rodear el nombre
con comillas simples [<a href="https://www.gnu.org/software/bash/manual/html_node/Quoting.html" class="external-link uri">https://www.gnu.org/software/bash/manual/html_node/Quoting.html</a>]
(<code>''</code>).</p>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Notas de la instructora </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>En ocasiones, los alumnos pueden quedar atrapados en editores de
texto de línea de comandos como Vim, Emacs o Nano. Cerrar el emulador de
terminal y abrir uno nuevo puede resultar frustrante, ya que los alumnos
tendrán que volver a navegar hasta la carpeta correcta. Nuestra
recomendación para mitigar este problema es que los instructores
utilicen el mismo editor de texto que los alumnos durante los talleres
(en la mayoría de los casos, Nano).</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="crear-un-archivo-de-texto">Crear un archivo de texto<a class="anchor" aria-label="anchor" href="#crear-un-archivo-de-texto"></a>
</h3>
<p>Vamos a cambiar nuestro directorio de trabajo a <code>thesis</code>
utilizando <code>cd</code>, a continuación, ejecute un editor de texto
llamado Nano para crear un archivo llamado <code>draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> cd thesis</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">$</span> nano draft.txt</span></code></pre>
</div>
<div id="qué-editor" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="qué-editor" class="callout-inner">
<h3 class="callout-title">¿Qué editor?</h3>
<div class="callout-content">
<p>Cuando decimos “<code>nano</code> es un editor de texto” nos
referimos realmente a “texto”. Sólo puede trabajar con datos de
caracteres planos, no con tablas, imágenes o cualquier otro medio
amigable para el ser humano. Lo utilizamos en los ejemplos porque es uno
de los editores de texto menos complejos. Sin embargo, debido a esta
característica, puede que no sea lo suficientemente potente o flexible
para el trabajo que necesites hacer después de este taller. En sistemas
Unix (como Linux y macOS), muchos programadores utilizan <a href="https://www.gnu.org/software/emacs/" class="external-link">Emacs</a> o <a href="https://www.vim.org/" class="external-link">Vim</a> (ambos requieren más tiempo de
aprendizaje), o un editor gráfico como <a href="https://projects.gnome.org/gedit/" class="external-link">Gedit</a> o <a href="https://code.visualstudio.com/" class="external-link">VScode</a>. En Windows, puede
utilizar <a href="https://notepad-plus-plus.org/" class="external-link">Notepad++</a>. Windows
también tiene un editor integrado llamado <code>notepad</code> que se
puede ejecutar desde la línea de comandos de la misma manera que
<code>nano</code> para los propósitos de esta lección.</p>
<p>Independientemente del editor que utilices, necesitarás saber dónde
busca y guarda los archivos. Si lo inicia desde el intérprete de
comandos, (probablemente) utilizará su directorio de trabajo actual como
ubicación predeterminada. Si utilizas el menú de inicio de tu ordenador,
puede que quiera guardar los archivos en tu Escritorio o en el
directorio Documentos. Puedes cambiar esta opción desplazándote a otro
directorio la primera vez que “guardes como…”</p>
</div>
</div>
</div>
<p>Vamos a escribir unas líneas de texto.</p>
<figure><img src="../fig/nano-screenshot.png" alt="captura de pantalla del editor de texto nano en acción con el texto Ya no es publicar o perecer, es compartir y prosperar" class="figure mx-auto d-block"></figure><p>Una vez que estemos satisfechos con nuestro texto, podemos pulsar
<kbd>Ctrl</kbd>+<kbd>O</kbd> (pulsar la tecla <kbd>Ctrl</kbd> o
<kbd>Control</kbd> y, sin soltarla, pulsar la tecla <kbd>O</kbd>) para
escribir nuestros datos en el disco. Se nos pedirá que proporcionemos un
nombre para el archivo que contendrá nuestro texto. Pulse
<kbd>Return</kbd> para aceptar el valor predeterminado sugerido de
<code>draft.txt</code>.</p>
<p>Una vez guardado nuestro archivo, podemos usar
<kbd>Ctrl</kbd>+<kbd>X</kbd> para salir del editor y volver al
shell.</p>
<div id="tecla-control-ctrl-o" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tecla-control-ctrl-o" class="callout-inner">
<h3 class="callout-title">Tecla Control, Ctrl o ^</h3>
<div class="callout-content">
<p>La tecla Control también se denomina tecla “Ctrl”. Existen varias
formas de describir el uso de la tecla Control. Por ejemplo, puede ver
una instrucción para pulsar la tecla <kbd>Control</kbd> y, mientras la
mantiene pulsada, pulsar la tecla <kbd>X</kbd>, descrita como cualquiera
de:</p>
<ul>
<li><code>Control-X</code></li>
<li><code>Control+X</code></li>
<li><code>Ctrl-X</code></li>
<li><code>Ctrl+X</code></li>
<li><code>^X</code></li>
<li><code>C-x</code></li>
</ul>
<p>En nano, en la parte inferior de la pantalla verás
<code>^G Get Help ^O WriteOut</code>. Esto significa que puedes usar
<code>Control-G</code> para obtener ayuda y <code>Control-O</code> para
guardar tu archivo.</p>
</div>
</div>
</div>
<p><code>nano</code> no deja ninguna salida en pantalla después de
salir, pero <code>ls</code> muestra ahora que hemos creado un fichero
llamado <code>draft.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">draft.txt</span></span></code></pre>
</div>
<div id="crear-archivos-de-otra-manera" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="crear-archivos-de-otra-manera" class="callout-inner">
<h3 class="callout-title">Crear archivos de otra manera</h3>
<div class="callout-content">
<p>Hemos visto cómo crear archivos de texto utilizando el editor
<code>nano</code>. Ahora, prueba el siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> touch my_file.txt</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><p>¿Qué ha hecho el comando <code>touch</code>? Cuando miras en tu
directorio actual usando el explorador de archivos GUI, ¿aparece el
archivo?</p></li>
<li><p>Utilice <code>ls -l</code> para inspeccionar los archivos. ¿Qué
tamaño tiene <code>my_file.txt</code>?</p></li>
<li><p>¿Cuándo podría querer crear un archivo de esta forma?</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Solución </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><p>El comando <code>touch</code> genera un nuevo fichero llamado
<code>my_file.txt</code> en su directorio actual. Puede observar este
archivo recién generado escribiendo <code>ls</code> en la línea de
comandos. también puede ver <code>my_file.txt</code> en su explorador de
archivos GUI.</p></li>
<li><p>Cuando inspeccione el archivo con <code>ls -l</code>, observe que
el tamaño de <code>my_file.txt</code> es 0 bytes. En otras palabras, no
contiene datos. Si abre <code>my_file.txt</code> con su editor de texto,
aparecerá en blanco.</p></li>
<li><p>Algunos programas no generan archivos de salida por sí mismos,
sino que requieren que ya se hayan generado archivos vacíos. Cuando el
programa se ejecuta, busca un archivo existente para rellenarlo con su
salida. El comando touch le permite generar eficientemente un archivo de
texto en blanco para ser utilizado por tales programas.</p></li>
</ol>
</div>
</div>
</div>
</div>
<div id="crear-archivos-de-otra-manera" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="crear-archivos-de-otra-manera" class="callout-inner">
<h3 class="callout-title">Crear archivos de otra manera<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>Para evitar confusiones más adelante, le sugerimos que elimine el
archivo que acaba de crear antes de continuar con el resto del episodio,
ya que de lo contrario los resultados futuros pueden variar de los que
se dan en la lección. Para ello, utilice el siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> rm my_file.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="qué-hay-en-un-nombre" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="qué-hay-en-un-nombre" class="callout-inner">
<h3 class="callout-title">¿Qué hay en un nombre?</h3>
<div class="callout-content">
<p>Te habrás dado cuenta de que todos los archivos de Nelle se llaman
“algo punto algo”, y en esta parte de la lección siempre hemos utilizado
la extensión <code>.txt</code>. Esto es sólo una convención; podemos
llamar a un archivo <code>mythesis</code> o casi cualquier otra cosa que
queramos. Sin embargo, la mayoría de la gente utiliza nombres de dos
partes la mayor parte del tiempo para ayudarles (y a sus programas) a
distinguir diferentes tipos de ficheros. La segunda parte de un nombre
de este tipo se denomina <strong>extensión de nombre de fichero</strong>
e indica qué tipo de datos contiene el fichero: <code>.txt</code> señala
un fichero de texto plano, <code>.pdf</code> indica un documento PDF,
<code>.cfg</code> es un fichero de configuración lleno de parámetros
para algún programa u otro, <code>.png</code> es una imagen PNG,
etc.</p>
<p>Se trata sólo de una convención, aunque importante. Los archivos sólo
contienen bytes; depende de nosotros y de nuestros programas interpretar
esos bytes de acuerdo con las reglas para archivos de texto plano,
documentos PDF, archivos de configuración, imágenes, etc.</p>
<p>Nombrar una imagen PNG de una ballena como <code>whale.mp3</code> no
la convierte mágicamente en una grabación del canto de una ballena,
aunque <em>puede</em> hacer que el sistema operativo asocie el archivo
con un programa reproductor de música. En este caso, si alguien hace
doble clic en <code>whale.mp3</code> en un programa explorador de
archivos, el reproductor de música intentará automáticamente (y por
error) abrir el archivo <code>whale.mp3</code>.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="moviendo-archivos-y-directorios">Moviendo archivos y directorios<a class="anchor" aria-label="anchor" href="#moviendo-archivos-y-directorios"></a>
</h2>
<hr class="half-width">
<p>Volviendo al directorio
<code>shell-lesson-data/exercise-data/writing</code>,</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/shell-lesson-data/exercise-data/writing</span></code></pre>
</div>
<p>En nuestro directorio <code>thesis</code> tenemos un fichero
<code>draft.txt</code> que no es un nombre particularmente informativo,
así que cambiemos el nombre del fichero usando <code>mv</code>, que es
la abreviatura de <code>mover</code>:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> mv thesis/draft.txt thesis/quotes.txt</span></code></pre>
</div>
<p>El primer argumento le dice a <code>mv</code> lo que estamos
“moviendo”, mientras que el segundo es a dónde debe ir. En este caso,
estamos moviendo <code>thesis/draft.txt</code> a
<code>thesis/quotes.txt</code>, lo que tiene el mismo efecto que
renombrar el archivo. Efectivamente, <code>ls</code> nos muestra que
<code>thesis</code> contiene ahora un fichero llamado
<code>quotes.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">quotes.txt</span></span></code></pre>
</div>
<p>Hay que tener cuidado al especificar el nombre del archivo de
destino, ya que <code>mv</code> sobrescribirá silenciosamente cualquier
archivo existente con el mismo nombre, lo que podría provocar la pérdida
de datos. Por defecto, <code>mv</code> no pedirá confirmación antes de
sobrescribir archivos. Sin embargo, una opción adicional,
<code>mv -i</code> (o <code>mv --interactive</code>), hará que
<code>mv</code> solicite dicha confirmación.</p>
<p>Tenga en cuenta que <code>mv</code> también funciona con
directorios.</p>
<p>Movamos <code>quotes.txt</code> al directorio de trabajo actual.
Usamos <code>mv</code> una vez más, pero esta vez usaremos sólo el
nombre de un directorio como segundo argumento para decirle a
<code>mv</code> que queremos mantener el nombre del fichero pero ponerlo
en un lugar nuevo. (Por eso el comando se llama ‘mover’.) En este caso,
el nombre de directorio que usamos es el nombre de directorio especial
<code>.</code> que mencionamos antes.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> mv thesis/quotes.txt .</span></code></pre>
</div>
<p>El efecto es mover el fichero del directorio en el que estaba al
directorio de trabajo actual. <code>ls</code> nos muestra ahora que
<code>thesis</code> está vacío:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> ls thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$</code></pre>
</div>
<p>Alternativamente, podemos confirmar que el fichero
<code>quotes.txt</code> ya no está presente en el directorio
<code>thesis</code> intentando listarlo explícitamente:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> ls thesis/quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: cannot access 'thesis/quotes.txt': No such file or directory</code></pre>
</div>
<p><code>ls</code> con un nombre de fichero o directorio como argumento
sólo lista el fichero o directorio solicitado. Si el fichero dado como
argumento no existe, el shell devuelve un error como vimos
anteriormente. Podemos usar esto para ver que <code>quotes.txt</code>
está ahora presente en nuestro directorio actual:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">quotes.txt</span></span></code></pre>
</div>
<div id="mover-archivos-a-una-nueva-carpeta" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="mover-archivos-a-una-nueva-carpeta" class="callout-inner">
<h3 class="callout-title">Mover archivos a una nueva carpeta</h3>
<div class="callout-content">
<p>Tras ejecutar los siguientes comandos, Jamie se da cuenta de que ha
colocado los archivos <code>sucrose.dat</code> y
<code>maltose.dat</code> en la carpeta equivocada. Los archivos deberían
haberse colocado en la carpeta <code>raw</code>.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a> <span class="ex">analyzed/</span> raw/</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span> analyzed</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="ex">fructose.dat</span> glucose.dat maltose.dat sucrose.dat</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="ex">$</span> cd analyzed</span></code></pre>
</div>
<p>Rellene los espacios en blanco para mover estos archivos a la carpeta
<code>raw/</code> (es decir, aquella en la que olvidó ponerlos)</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> mv sucrose.dat maltose.dat ____/____</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Solución </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> mv sucrose.dat maltose.dat ../raw</span></code></pre>
</div>
<p>Recordemos que <code>..</code> se refiere al directorio padre (es
decir, uno por encima del directorio actual) y que <code>.</code> se
refiere al directorio actual.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="copiar-archivos-y-directorios">Copiar archivos y directorios<a class="anchor" aria-label="anchor" href="#copiar-archivos-y-directorios"></a>
</h2>
<hr class="half-width">
<p>El comando <code>cp</code> funciona de forma muy parecida a
<code>mv</code>, excepto que copia un fichero en lugar de moverlo.
Podemos comprobar que ha hecho lo correcto utilizando <code>ls</code>
con dos rutas como argumentos — como la mayoría de los comandos Unix, a
<code>ls</code> se le pueden dar múltiples rutas a la vez:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> cp quotes.txt thesis/quotations.txt</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt thesis/quotations.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>quotes.txt   thesis/quotations.txt</code></pre>
</div>
<p>También podemos copiar un directorio y todo su contenido utilizando
la opción <a href="https://en.wikipedia.org/wiki/Recursion" class="external-link">recursiva</a>
<code>-r</code>, por ejemplo, para hacer una copia de seguridad de un
directorio:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="at">-r</span> thesis thesis_backup</span></code></pre>
</div>
<p>Podemos comprobar el resultado listando el contenido de los
directorios <code>thesis</code> y <code>thesis_backup</code>:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> ls thesis thesis_backup</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">thesis</span><span class="op">:</span></span>
<span><span class="va">quotations.txt</span></span>
<span></span>
<span><span class="va">thesis_backup</span><span class="op">:</span></span>
<span><span class="va">quotations.txt</span></span></code></pre>
</div>
<p>Es importante incluir la bandera <code>-r</code>. Si desea copiar un
directorio y omite esta opción, aparecerá un mensaje indicando que el
directorio se ha omitido porque <code>-r not specified</code>.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> cp thesis thesis_backup</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="ex">cp:</span> <span class="at">-r</span> not specified<span class="kw">;</span> <span class="ex">omitting</span> directory <span class="st">'thesis'</span></span></code></pre>
</div>
<div id="renombrar-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="renombrar-archivos" class="callout-inner">
<h3 class="callout-title">Renombrar archivos</h3>
<div class="callout-content">
<p>Supongamos que ha creado un archivo de texto plano en su directorio
actual para contener una lista de las pruebas estadísticas que
necesitará realizar para analizar sus datos, y lo ha llamado
<code>statstics.txt</code></p>
<p>Después de crear y guardar este archivo, te das cuenta de que has
escrito mal el nombre del archivo Quieres corregir el error, ¿cuál de
los siguientes comandos podrías utilizar para hacerlo?</p>
<ol style="list-style-type: decimal">
<li><code>cp statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt statistics.txt</code></li>
<li><code>mv statstics.txt .</code></li>
<li><code>cp statstics.txt .</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Solución </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No. Aunque esto crearía un archivo con el nombre correcto, el
archivo con el nombre incorrecto seguiría existiendo en el directorio y
habría que borrarlo.</li>
<li>Sí, esto funcionaría para renombrar el archivo.</li>
<li>No, el punto(.) indica dónde mover el archivo, pero no proporciona
un nuevo nombre de archivo; no se pueden crear nombres de archivo
idénticos.</li>
<li>No, el punto(.) indica dónde copiar el archivo, pero no proporciona
un nuevo nombre de archivo; no se pueden crear nombres de archivo
idénticos.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="traslado-y-copia" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="traslado-y-copia" class="callout-inner">
<h3 class="callout-title">Traslado y copia</h3>
<div class="callout-content">
<p>¿Cuál es la salida del comando de cierre <code>ls</code> en la
secuencia que se muestra a continuación?</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/jamie/data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">proteins.dat</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> mkdir recombined</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="ex">$</span> mv proteins.dat recombined/</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="ex">$</span> cp recombined/proteins.dat ../proteins-saved.dat</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>proteins-saved.dat recombined</code></li>
<li><code>recombined</code></li>
<li><code>proteins.dat recombined</code></li>
<li><code>proteins-saved.dat</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Solución </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Empezamos en el directorio <code>/Users/jamie/data</code>, y creamos
una nueva carpeta llamada <code>recombined</code>. La segunda línea
mueve (<code>mv</code>) el fichero <code>proteins.dat</code> a la nueva
carpeta (<code>recombined</code>). La tercera línea hace una copia del
fichero que acabamos de mover. La parte complicada aquí es dónde se ha
copiado el archivo. Recuerda que <code>..</code> significa ‘subir un
nivel’, así que el fichero copiado está ahora en
<code>/Users/jamie</code>. Tenga en cuenta que <code>..</code> se
interpreta con respecto al directorio de trabajo actual,
<strong>no</strong> con respecto a la ubicación del fichero que se está
copiando. Así, lo único que se mostrará usando ls (en
<code>/Users/jamie/data</code>) es la carpeta recombinada.</p>
<ol style="list-style-type: decimal">
<li>No, véase la explicación anterior. <code>proteins-saved.dat</code>
se encuentra en <code>/Users/jamie</code>
</li>
<li>Sí</li>
<li>No, véase la explicación anterior. <code>proteins.dat</code> se
encuentra en <code>/Users/jamie/data/recombined</code>
</li>
<li>No, véase la explicación anterior. <code>proteins-saved.dat</code>
se encuentra en <code>/Users/jamie</code>
</li>
</ol>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="eliminar-archivos-y-directorios">Eliminar archivos y directorios<a class="anchor" aria-label="anchor" href="#eliminar-archivos-y-directorios"></a>
</h2>
<hr class="half-width">
<p>Volviendo al directorio
<code>shell-lesson-data/exercise-data/writing</code>, vamos a ordenarlo
eliminando el archivo <code>quotes.txt</code> que hemos creado. El
comando Unix que utilizaremos para ello es <code>rm</code> (abreviatura
de ‘remove’):</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> rm quotes.txt</span></code></pre>
</div>
<p>Podemos confirmar que el archivo se ha ido usando
<code>ls</code>:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> ls quotes.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>ls: cannot access 'quotes.txt': No such file or directory</code></pre>
</div>
<div id="borrar-es-para-siempre" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="borrar-es-para-siempre" class="callout-inner">
<h3 class="callout-title">Borrar es para siempre</h3>
<div class="callout-content">
<p>El shell de Unix no tiene una papelera de la que podamos recuperar
los archivos borrados (aunque la mayoría de las interfaces gráficas de
Unix sí la tienen). En su lugar, cuando borramos archivos, éstos se
desvinculan del sistema de archivos para que se pueda reciclar su
espacio de almacenamiento en disco. Existen herramientas para encontrar
y recuperar archivos borrados, pero no hay garantía de que funcionen en
una situación concreta, ya que el ordenador puede reciclar el espacio
del archivo en el disco inmediatamente.</p>
</div>
</div>
</div>
<div id="utilizar-rm-con-seguridad" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="utilizar-rm-con-seguridad" class="callout-inner">
<h3 class="callout-title">Utilizar <code>rm</code> con seguridad</h3>
<div class="callout-content">
<p>¿Qué ocurre cuando ejecutamos
<code>rm -i thesis_backup/quotations.txt</code>? ¿Por qué querríamos
esta protección cuando utilizamos <code>rm</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Solución </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>rm: remove regular file 'thesis_backup/quotations.txt'? y</code></pre>
</div>
<p>La opción <code>-i</code> preguntará antes (de cada) eliminación
(utilice <kbd>Y</kbd> para confirmar la eliminación o <kbd>N</kbd> para
conservar el archivo). El shell Unix no tiene papelera, por lo que todos
los archivos eliminados desaparecerán para siempre. Utilizando la opción
<code>-i</code>, tenemos la posibilidad de comprobar que estamos
borrando sólo los ficheros que queremos eliminar.</p>
</div>
</div>
</div>
</div>
<p>Si intentamos eliminar el directorio <code>thesis</code> utilizando
<code>rm thesis</code>, obtendremos un mensaje de error:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> rm thesis</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>rm: cannot remove 'thesis': Is a directory</code></pre>
</div>
<p>Esto ocurre porque <code>rm</code> por defecto sólo funciona en
ficheros, no en directorios.</p>
<p><code>rm</code> puede eliminar un directorio <em>y todo su
contenido</em> si utilizamos la opción recursiva <code>-r</code>, y lo
hará <em>sin ninguna petición de confirmación</em>:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> thesis</span></code></pre>
</div>
<p>Dado que no hay forma de recuperar ficheros borrados usando el shell,
<code>rm -r</code> <em>debe usarse con mucha precaución</em> (puedes
considerar añadir la opción interactiva <code>rm -r -i</code>).</p>
</section><section><h2 class="section-heading" id="operaciones-con-múltiples-ficheros-y-directorios">Operaciones con múltiples ficheros y directorios<a class="anchor" aria-label="anchor" href="#operaciones-con-m%C3%BAltiples-ficheros-y-directorios"></a>
</h2>
<hr class="half-width">
<p>A menudo es necesario copiar o mover varios archivos a la vez. Esto
se puede hacer proporcionando una lista de nombres de ficheros
individuales, o especificando un patrón de nombres utilizando comodines.
Los comodines son caracteres especiales que pueden utilizarse para
representar caracteres o conjuntos de caracteres desconocidos al navegar
por el sistema de ficheros Unix.</p>
<div id="copia-con-varios-nombres-de-archivo" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="copia-con-varios-nombres-de-archivo" class="callout-inner">
<h3 class="callout-title">Copia con varios nombres de archivo</h3>
<div class="callout-content">
<p>Para este ejercicio, puede probar los comandos en el directorio
<code>shell-lesson-data/exercise-data</code>.</p>
<p>En el siguiente ejemplo, ¿qué hace <code>cp</code> cuando se le dan
varios nombres de archivo y un nombre de directorio?</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> mkdir backup</span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="ex">$</span> cp creatures/minotaur.dat creatures/unicorn.dat backup/</span></code></pre>
</div>
<p>En el siguiente ejemplo, ¿qué hace <code>cp</code> cuando se le dan
tres o más nombres de archivo?</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> cd creatures</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>basilisk.dat  minotaur.dat  unicorn.dat</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="ex">$</span> cp minotaur.dat unicorn.dat basilisk.dat</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Solución </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>Si se da más de un nombre de fichero seguido de un nombre de
directorio (es decir, el directorio de destino debe ser el último
argumento), <code>cp</code> copia los ficheros en el directorio
nombrado.</p>
<p>Si se le dan tres nombres de fichero, <code>cp</code> lanza un error
como el siguiente, porque espera un nombre de directorio como último
argumento.</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>cp: target 'basilisk.dat' is not a directory</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="uso-de-comodines-para-acceder-a-varios-archivos-a-la-vez">Uso de comodines para acceder a varios archivos a la vez<a class="anchor" aria-label="anchor" href="#uso-de-comodines-para-acceder-a-varios-archivos-a-la-vez"></a>
</h3>
<div id="comodines" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comodines" class="callout-inner">
<h3 class="callout-title">Comodines</h3>
<div class="callout-content">
<p><code>*</code> es un <strong>código comodín</strong>, que representa
otros cero o más caracteres. Consideremos el directorio
<code>shell-lesson-data/exercise-data/alkanes</code>: <code>*.pdb</code>
representa a <code>ethane.pdb</code>, <code>propane.pdb</code> y a todos
los archivos que terminan en ‘.pdb’. En cambio, <code>p*.pdb</code> sólo
representa a <code>pentane.pdb</code> y <code>propane.pdb</code>, ya que
la ‘p’ que aparece al principio sólo puede representar nombres de
fichero que empiecen por la letra ‘p’.</p>
<p><code>?</code> también es un comodín, pero representa exactamente un
carácter. Así, <code>?ethane.pdb</code> podría representar
<code>methane.pdb</code>, mientras que <code>*ethane.pdb</code>
representa tanto <code>ethane.pdb</code> como
<code>methane.pdb</code>.</p>
<p>Los comodines pueden utilizarse combinados entre sí. Por ejemplo,
<code>???ane.pdb</code> indica tres caracteres seguidos de
<code>ane.pdb</code>, dando
<code>cubane.pdb ethane.pdb octane.pdb</code>.</p>
<p>Cuando el shell ve un comodín, lo expande para crear una lista de
nombres de archivo coincidentes <em>antes</em> de ejecutar el comando
precedente. Como excepción, si una expresión comodín no coincide con
ningún archivo, Bash pasará la expresión como argumento al comando tal
cual. Por ejemplo, escribir <code>ls *.pdf</code> en el directorio
<code>alkanes</code> (que contiene sólo ficheros cuyos nombres terminan
en <code>.pdb</code>) da como resultado un mensaje de error que indica
que no existe ningún fichero llamado <code>*.pdf</code>. Sin embargo,
generalmente comandos como <code>wc</code> y <code>ls</code> ven las
listas de nombres de ficheros que coinciden con estas expresiones, pero
no los comodines en sí. Es el shell, no los otros programas, el que
expande los comodines.</p>
</div>
</div>
</div>
<div id="lista-de-nombres-de-archivo-que-coinciden-con-un-patrón" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="lista-de-nombres-de-archivo-que-coinciden-con-un-patrón" class="callout-inner">
<h3 class="callout-title">Lista de nombres de archivo que coinciden con un patrón</h3>
<div class="callout-content">
<p>Cuando se ejecuta en el directorio <code>alkanes</code>, ¿qué
comando(s) <code>ls</code> producirá(n) este resultado?</p>
<p><code>ethane.pdb methane.pdb</code></p>
<ol style="list-style-type: decimal">
<li><code>ls *t*ane.pdb</code></li>
<li><code>ls *t?ne.*</code></li>
<li><code>ls *t??ne.pdb</code></li>
<li><code>ls ethane.*</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Solución </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>La solución es <code>3.</code></p>
<p><code>1.</code> muestra todos los ficheros cuyos nombres contienen
cero o más caracteres (<code>*</code>) seguidos de la letra
<code>t</code>, luego cero o más caracteres (<code>*</code>) seguidos de
<code>ane.pdb</code>. Esto da
<code>ethane.pdb methane.pdb octane.pdb pentane.pdb</code>.</p>
<p><code>2.</code> muestra todos los ficheros cuyos nombres empiezan por
cero o más caracteres (<code>*</code>) seguidos de la letra
<code>t</code>, luego un solo carácter (<code>?</code>), luego
<code>ne.</code> seguido de cero o más caracteres (<code>*</code>). Esto
nos dará <code>octane.pdb</code> y <code>pentane.pdb</code> pero no
coincide con nada que termine en <code>thane.pdb</code>.</p>
<p><code>3.</code> soluciona los problemas de la opción 2 haciendo
coincidir dos caracteres (<code>??</code>) entre <code>t</code> y
<code>ne</code>. Ésta es la solución.</p>
<p><code>4.</code> sólo muestra los archivos que empiezan por
<code>ethane.</code>.</p>
</div>
</div>
</div>
</div>
<div id="más-sobre-comodines" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="más-sobre-comodines" class="callout-inner">
<h3 class="callout-title">Más sobre comodines</h3>
<div class="callout-content">
<p>Sam tiene un directorio que contiene datos de calibración, conjuntos
de datos y descripciones de los conjuntos de datos:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-calibration.txt</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset1.txt</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset2.txt</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-calibration.txt</span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset1.txt</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset2.txt</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb54-14"><a href="#cb54-14" tabindex="-1"></a><span class="ex">├──</span> backup</span>
<span id="cb54-15"><a href="#cb54-15" tabindex="-1"></a><span class="ex">│  </span> ├── calibration</span>
<span id="cb54-16"><a href="#cb54-16" tabindex="-1"></a><span class="ex">│  </span> └── datasets</span>
<span id="cb54-17"><a href="#cb54-17" tabindex="-1"></a><span class="ex">└──</span> send_to_bob</span>
<span id="cb54-18"><a href="#cb54-18" tabindex="-1"></a>    <span class="ex">├──</span> all_datasets_created_on_a_23rd</span>
<span id="cb54-19"><a href="#cb54-19" tabindex="-1"></a>    <span class="ex">└──</span> all_november_files</span></code></pre>
</div>
<p>Antes de irse a otra excursión, quiere hacer una copia de seguridad
de sus datos y enviar algunos conjuntos de datos a su colega Bob. Sam
utiliza los siguientes comandos para realizar el trabajo:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>dataset<span class="pp">*</span> backup/datasets</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">$</span> cp ____calibration____ backup/calibration</span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a><span class="ex">$</span> cp 2015-____-____ send_to_bob/all_november_files/</span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a><span class="ex">$</span> cp ____ send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
<p>Ayuda a Sam rellenando los espacios en blanco.</p>
<p>La estructura de directorios resultante debería ser la siguiente</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="bu">.</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-calibration.txt</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset1.txt</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset2.txt</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a><span class="ex">├──</span> 2015-10-23-dataset_overview.txt</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-calibration.txt</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset1.txt</span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset2.txt</span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a><span class="ex">├──</span> 2015-10-26-dataset_overview.txt</span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb56-11"><a href="#cb56-11" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb56-12"><a href="#cb56-12" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb56-13"><a href="#cb56-13" tabindex="-1"></a><span class="ex">├──</span> 2015-11-23-dataset_overview.txt</span>
<span id="cb56-14"><a href="#cb56-14" tabindex="-1"></a><span class="ex">├──</span> backup</span>
<span id="cb56-15"><a href="#cb56-15" tabindex="-1"></a><span class="ex">│  </span> ├── calibration</span>
<span id="cb56-16"><a href="#cb56-16" tabindex="-1"></a><span class="ex">│  </span> │   ├── 2015-10-23-calibration.txt</span>
<span id="cb56-17"><a href="#cb56-17" tabindex="-1"></a><span class="ex">│  </span> │   ├── 2015-10-26-calibration.txt</span>
<span id="cb56-18"><a href="#cb56-18" tabindex="-1"></a><span class="ex">│  </span> │   └── 2015-11-23-calibration.txt</span>
<span id="cb56-19"><a href="#cb56-19" tabindex="-1"></a><span class="ex">│  </span> └── datasets</span>
<span id="cb56-20"><a href="#cb56-20" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-23-dataset1.txt</span>
<span id="cb56-21"><a href="#cb56-21" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-23-dataset2.txt</span>
<span id="cb56-22"><a href="#cb56-22" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-23-dataset_overview.txt</span>
<span id="cb56-23"><a href="#cb56-23" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-26-dataset1.txt</span>
<span id="cb56-24"><a href="#cb56-24" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-26-dataset2.txt</span>
<span id="cb56-25"><a href="#cb56-25" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-10-26-dataset_overview.txt</span>
<span id="cb56-26"><a href="#cb56-26" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-11-23-dataset1.txt</span>
<span id="cb56-27"><a href="#cb56-27" tabindex="-1"></a><span class="ex">│  </span>     ├── 2015-11-23-dataset2.txt</span>
<span id="cb56-28"><a href="#cb56-28" tabindex="-1"></a><span class="ex">│  </span>     └── 2015-11-23-dataset_overview.txt</span>
<span id="cb56-29"><a href="#cb56-29" tabindex="-1"></a><span class="ex">└──</span> send_to_bob</span>
<span id="cb56-30"><a href="#cb56-30" tabindex="-1"></a>    <span class="ex">├──</span> all_datasets_created_on_a_23rd</span>
<span id="cb56-31"><a href="#cb56-31" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-10-23-dataset1.txt</span>
<span id="cb56-32"><a href="#cb56-32" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-10-23-dataset2.txt</span>
<span id="cb56-33"><a href="#cb56-33" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-10-23-dataset_overview.txt</span>
<span id="cb56-34"><a href="#cb56-34" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-11-23-dataset1.txt</span>
<span id="cb56-35"><a href="#cb56-35" tabindex="-1"></a>    <span class="ex">│  </span> ├── 2015-11-23-dataset2.txt</span>
<span id="cb56-36"><a href="#cb56-36" tabindex="-1"></a>    <span class="ex">│  </span> └── 2015-11-23-dataset_overview.txt</span>
<span id="cb56-37"><a href="#cb56-37" tabindex="-1"></a>    <span class="ex">└──</span> all_november_files</span>
<span id="cb56-38"><a href="#cb56-38" tabindex="-1"></a>        <span class="ex">├──</span> 2015-11-23-calibration.txt</span>
<span id="cb56-39"><a href="#cb56-39" tabindex="-1"></a>        <span class="ex">├──</span> 2015-11-23-dataset1.txt</span>
<span id="cb56-40"><a href="#cb56-40" tabindex="-1"></a>        <span class="ex">├──</span> 2015-11-23-dataset2.txt</span>
<span id="cb56-41"><a href="#cb56-41" tabindex="-1"></a>        <span class="ex">└──</span> 2015-11-23-dataset_overview.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Solución </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>calibration.txt backup/calibration</span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a><span class="ex">$</span> cp 2015-11-<span class="pp">*</span> send_to_bob/all_november_files/</span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>-23-dataset<span class="pp">*</span> send_to_bob/all_datasets_created_on_a_23rd/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="organización-de-directorios-y-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="organización-de-directorios-y-archivos" class="callout-inner">
<h3 class="callout-title">Organización de directorios y archivos</h3>
<div class="callout-content">
<p>Jamie está trabajando en un proyecto y ve que sus archivos no están
muy bien organizados:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>analyzed/  fructose.dat    raw/   sucrose.dat</code></pre>
</div>
<p>Los archivos <code>fructose.dat</code> y <code>sucrose.dat</code>
contienen los resultados de su análisis de datos. ¿Qué comando(s) de los
tratados en esta lección necesita ejecutar para que los comandos
siguientes produzcan la salida mostrada?</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>analyzed/   raw/</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="ex">$</span> ls analyzed</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>fructose.dat    sucrose.dat</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Solución </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">mv</span> <span class="pp">*</span>.dat analyzed</span></code></pre>
</div>
<p>Jamie necesita mover sus ficheros <code>fructose.dat</code> y
<code>sucrose.dat</code> al directorio <code>analyzed</code>. El
intérprete de comandos expandirá *.dat para que coincida con todos los
archivos .dat del directorio actual. A continuación, el comando
<code>mv</code> mueve la lista de archivos .dat al directorio
<code>analizado</code>.</p>
</div>
</div>
</div>
</div>
<div id="reproducir-una-estructura-de-carpetas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reproducir-una-estructura-de-carpetas" class="callout-inner">
<h3 class="callout-title">Reproducir una estructura de carpetas</h3>
<div class="callout-content">
<p>Estás comenzando un nuevo experimento y te gustaría duplicar la
estructura de directorios de tu experimento anterior para poder añadir
nuevos datos.</p>
<p>Supongamos que el experimento anterior está en una carpeta llamada
<code>2016-05-18</code>, que contiene una carpeta <code>data</code> que
a su vez contiene carpetas llamadas <code>raw</code> y
<code>processed</code> que contienen ficheros de datos. El objetivo es
copiar la estructura de carpetas de la carpeta <code>2016-05-18</code>
en una carpeta llamada <code>2016-05-20</code> de modo que la estructura
final de directorios tenga este aspecto:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2016-05-20/
└── data
   ├── processed
   └── raw</code></pre>
</div>
<p>¿Cuál de los siguientes comandos lograría este objetivo? ¿Qué harían
los demás comandos?</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data</span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/processed</span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/raw</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a><span class="ex">$</span> cd 2016-05-20</span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a><span class="ex">$</span> mkdir data</span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a><span class="ex">$</span> cd data</span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a><span class="ex">$</span> mkdir raw processed</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/raw</span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20/data/processed</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> 2016-05-20/data/raw</span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> 2016-05-20/data/processed</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="ex">$</span> mkdir 2016-05-20</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a><span class="ex">$</span> cd 2016-05-20</span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a><span class="ex">$</span> mkdir data</span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a><span class="ex">$</span> mkdir raw processed</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10"> Solución </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" aria-labelledby="headingSolution10" data-bs-parent="#accordionSolution10">
<div class="accordion-body">
<p>Los dos primeros conjuntos de comandos logran este objetivo. El
primer conjunto utiliza rutas relativas para crear el directorio de
nivel superior antes que los subdirectorios.</p>
<p>El tercer conjunto de comandos dará un error porque el comportamiento
por defecto de <code>mkdir</code> no creará un subdirectorio de un
directorio inexistente: las carpetas de nivel intermedio deben crearse
primero.</p>
<p>El cuarto conjunto de comandos consigue este objetivo. Recuerde que
la opción <code>-p</code>, seguida de una ruta de uno o más directorios,
hará que <code>mkdir</code> cree los subdirectorios intermedios que sean
necesarios.</p>
<p>El último conjunto de comandos genera los directorios “raw” y
“processed” al mismo nivel que el directorio “data”.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>
<code>cp [old] [new]</code> copia un archivo.</li>
<li>
<code>mkdir [path]</code> crea un nuevo directorio.</li>
<li>
<code>mv [old] [new]</code> mueve (renombra) un archivo o
directorio.</li>
<li>
<code>rm [path]</code> elimina (borra) un archivo.</li>
<li>
<code>*</code> coincide con cero o más caracteres en un nombre de
archivo, por lo que <code>*.txt</code> coincide con todos los archivos
que terminan en <code>.txt</code>.</li>
<li>
<code>?</code> coincide con cualquier carácter de un nombre de
archivo, por lo que <code>?.txt</code> coincide con <code>a.txt</code>
pero no con <code>any.txt</code>.</li>
<li>El uso de la tecla Control puede describirse de muchas maneras,
incluyendo <code>Ctrl-X</code>, <code>Control-X</code> y
<code>^X</code>.</li>
<li>El shell no tiene papelera: una vez que se borra algo, desaparece de
verdad.</li>
<li>La mayoría de los nombres de archivo son
<code>something.extension</code>. La extensión no es obligatoria y no
garantiza nada, pero normalmente se utiliza para indicar el tipo de
datos del archivo.</li>
<li>Dependiendo del tipo de trabajo que realices, puede que necesites un
editor de texto más potente que Nano.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-04-pipefilter"><p>Content from <a href="04-pipefilter.html">Pipes and Filters</a></p>
<hr>
<p>Última actualización: 2024-09-20 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/04-pipefilter.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 35 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo combinar los comandos existentes para obtener el
resultado deseado?</li>
<li>¿Cómo puedo mostrar sólo una parte de la salida?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Explique la ventaja de enlazar comandos con tuberías y filtros.</li>
<li>Combinar secuencias de comandos para obtener una nueva salida</li>
<li>Redirige la salida de un comando a un archivo.</li>
<li>Explica qué suele ocurrir si un programa o canalización no recibe
ninguna entrada para procesar.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Ahora que ya conocemos algunos comandos básicos, por fin podemos ver
la característica más potente del shell: la facilidad con la que nos
permite combinar programas existentes de nuevas formas. Empezaremos con
el directorio <code>shell-lesson-data/exercise-data/alkanes</code> que
contiene seis archivos que describen algunas moléculas orgánicas
simples. La extensión <code>.pdb</code> indica que estos archivos están
en formato Protein Data Bank, un formato de texto simple que especifica
el tipo y la posición de cada átomo en la molécula.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb    methane.pdb    pentane.pdb
ethane.pdb    octane.pdb     propane.pdb</code></pre>
</div>
<p>Vamos a ejecutar un comando de ejemplo:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> wc cubane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>20  156 1158 cubane.pdb</code></pre>
</div>
<p><code>wc</code> es el comando ‘word count’: cuenta el número de
líneas, palabras y caracteres de los ficheros (devolviendo los valores
en ese orden de izquierda a derecha).</p>
<p>Si ejecutamos el comando <code>wc *.pdb</code>, el <code>*</code> en
<code>*.pdb</code> coincide con cero o más caracteres, por lo que el
shell convierte <code>*.pdb</code> en una lista de todos los ficheros
<code>.pdb</code> del directorio actual:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  156  1158  cubane.pdb
  12  84   622   ethane.pdb
   9  57   422   methane.pdb
  30  246  1828  octane.pdb
  21  165  1226  pentane.pdb
  15  111  825   propane.pdb
 107  819  6081  total</code></pre>
</div>
<p>Observe que <code>wc *.pdb</code> también muestra el número total de
todas las líneas en la última línea de la salida.</p>
<p>Si ejecutamos <code>wc -l</code> en lugar de sólo <code>wc</code>, la
salida muestra sólo el número de líneas por fichero:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<p>Las opciones <code>-m</code> y <code>-w</code> también pueden
utilizarse con el comando <code>wc</code> para mostrar sólo el número de
caracteres o el número de palabras, respectivamente.</p>
<div id="por-qué-no-hace-nada" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="por-qué-no-hace-nada" class="callout-inner">
<h3 class="callout-title">¿Por qué no hace nada?</h3>
<div class="callout-content">
<p>¿Qué ocurre si un comando debe procesar un fichero, pero no le damos
un nombre de fichero? Por ejemplo, ¿qué pasa si escribimos</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span></span></code></pre>
</div>
<p>pero sin escribir <code>*.pdb</code> (ni nada más) después del
comando? Como no tiene ningún nombre de fichero, <code>wc</code> asume
que se supone que debe procesar la entrada dada en la línea de comandos,
así que simplemente se sienta ahí y espera a que le demos algunos datos
interactivamente. Desde el exterior, sin embargo, todo lo que vemos es
que se sienta allí, y el comando no parece hacer nada.</p>
<p>Si cometes este tipo de error, puedes salir de este estado
manteniendo pulsada la tecla control (<kbd>Ctrl</kbd>) y pulsando la
letra <kbd>C</kbd> una vez: <kbd>Ctrl</kbd>+<kbd>C</kbd>. A
continuación, suelta ambas teclas.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="capturar-salida-de-comandos">Capturar salida de comandos<a class="anchor" aria-label="anchor" href="#capturar-salida-de-comandos"></a>
</h2>
<hr class="half-width">
<p>¿Cuál de estos ficheros contiene menos líneas? Es una pregunta fácil
de responder cuando sólo hay seis ficheros, pero ¿y si hubiera 6000?
Nuestro primer paso hacia la solución es ejecutar el comando</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>El símbolo mayor que, <code>&gt;</code>, indica al shell que
<strong>redirija</strong> la salida del comando a un fichero en lugar de
imprimirla por pantalla. Este comando no imprime ninguna salida en
pantalla, porque todo lo que <code>wc</code> habría impreso ha ido al
archivo <code>lengths.txt</code> en su lugar. Si el archivo no existe
antes de emitir el comando, el shell creará el archivo. Si el archivo ya
existe, se sobrescribirá silenciosamente, lo que puede provocar la
pérdida de datos. Por lo tanto, los comandos <strong>redirigir</strong>
requieren precaución.</p>
<p><code>ls lengths.txt</code> confirma que el archivo existe:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ls lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">lengths.txt</span></span></code></pre>
</div>
<p>Ahora podemos enviar el contenido de <code>lengths.txt</code> a la
pantalla utilizando <code>cat lengths.txt</code>. El comando
<code>cat</code> recibe su nombre de ‘concatenar’, es decir, unir, e
imprime el contenido de los ficheros uno tras otro. En este caso sólo
hay un fichero, así que <code>cat</code> sólo nos muestra lo que
contiene:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> cat lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  20  cubane.pdb
  12  ethane.pdb
   9  methane.pdb
  30  octane.pdb
  21  pentane.pdb
  15  propane.pdb
 107  total</code></pre>
</div>
<div id="salida-página-por-página" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="salida-página-por-página" class="callout-inner">
<h3 class="callout-title">Salida Página por Página</h3>
<div class="callout-content">
<p>Seguiremos utilizando <code>cat</code> en esta lección, por comodidad
y coherencia, pero tiene la desventaja de que siempre vuelca todo el
archivo en la pantalla. En la práctica, es más útil el comando
<code>less</code> (por ejemplo, <code>less lengths.txt</code>). Esto
muestra un pantallazo del archivo, y luego se detiene. Puedes avanzar
una pantalla pulsando la barra espaciadora, o retroceder una pulsando
<code>b</code>. Pulsa <code>q</code> para salir.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="salida-de-filtrado">Salida de filtrado<a class="anchor" aria-label="anchor" href="#salida-de-filtrado"></a>
</h2>
<hr class="half-width">
<p>A continuación utilizaremos el comando <code>sort</code> para ordenar
el contenido del fichero <code>lengths.txt</code>. Pero antes haremos un
ejercicio para aprender un poco sobre el comando sort:</p>
<div id="qué-hace-sort--n" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-hace-sort--n" class="callout-inner">
<h3 class="callout-title">¿Qué hace <code>sort -n</code>?</h3>
<div class="callout-content">
<p>El fichero <code>shell-lesson-data/exercise-data/numbers.txt</code>
contiene las siguientes líneas:</p>
<pre class="source"><code><span><span class="fl">10</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
<p>Si ejecutamos <code>sort</code> en este archivo, la salida es:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">22</span></span>
<span><span class="fl">6</span></span></code></pre>
</div>
<p>Si ejecutamos <code>sort -n</code> en el mismo fichero, obtenemos
esto en su lugar:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">10</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">22</span></span></code></pre>
</div>
<p>Explique por qué <code>-n</code> tiene este efecto.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>La opción <code>-n</code> especifica una ordenación numérica en lugar
de alfanumérica.</p>
</div>
</div>
</div>
</div>
<p>También utilizaremos la opción <code>-n</code> para especificar que
la ordenación sea numérica en lugar de alfanumérica. Esto <em>no</em>
modifica el fichero, sino que envía el resultado ordenado a la
pantalla:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb
 12  ethane.pdb
 15  propane.pdb
 20  cubane.pdb
 21  pentane.pdb
 30  octane.pdb
107  total</code></pre>
</div>
<p>Podemos poner la lista ordenada de líneas en otro fichero temporal
llamado <code>sorted-lengths.txt</code> poniendo
<code>&gt; sorted-lengths.txt</code> después del comando, igual que
usamos <code>&gt; lengths.txt</code> para poner la salida de
<code>wc</code> en <code>lengths.txt</code>. Una vez hecho esto, podemos
ejecutar otro comando llamado <code>head</code> para obtener las
primeras líneas en <code>sorted-lengths.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> sorted-lengths.txt</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 sorted-lengths.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>Usando <code>-n 1</code> con <code>head</code> le decimos que sólo
queremos la primera línea del fichero; <code>-n 20</code> obtendría las
20 primeras, y así sucesivamente. Como <code>sorted-lengths.txt</code>
contiene las longitudes de nuestros ficheros ordenadas de menor a mayor,
la salida de <code>head</code> debe ser el fichero con menos líneas.</p>
<div id="redireccionando-al-mismo-fichero" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redireccionando-al-mismo-fichero" class="callout-inner">
<h3 class="callout-title">Redireccionando al mismo fichero</h3>
<div class="callout-content">
<p>Es muy mala idea intentar redirigir la salida de un comando que opera
sobre un fichero al mismo fichero. Por ejemplo:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="op">&gt;</span> lengths.txt</span></code></pre>
</div>
<p>Hacer algo así puede dar resultados incorrectos y/o borrar el
contenido de <code>lengths.txt</code>.</p>
</div>
</div>
</div>
<div id="qué-significa" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-significa" class="callout-inner">
<h3 class="callout-title">¿Qué significa <code>&gt;&gt;</code>?</h3>
<div class="callout-content">
<p>Hemos visto el uso de <code>&gt;</code>, pero existe un operador
similar <code>&gt;&gt;</code> que funciona de forma ligeramente
diferente. Aprenderemos las diferencias entre estos dos operadores
imprimiendo algunas cadenas. Podemos utilizar el comando
<code>echo</code> para imprimir cadenas, por ejemplo</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> echo The echo command prints text</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The echo command prints text</code></pre>
</div>
<p>Ahora prueba los siguientes comandos para ver la diferencia entre los
dos operadores:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;</span> testfile01.txt</span></code></pre>
</div>
<p>y:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> echo hello <span class="op">&gt;&gt;</span> testfile02.txt</span></code></pre>
</div>
<p>Sugerencia: Intente ejecutar cada comando dos veces seguidas y luego
examine los archivos de salida.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>En el primer ejemplo con <code>&gt;</code>, la cadena ‘hola’ se
escribe en <code>testfile01.txt</code>, pero el fichero se sobreescribe
cada vez que ejecutamos el comando.</p>
<p>Vemos en el segundo ejemplo que el operador <code>&gt;&gt;</code>
también escribe ‘hola’ en un fichero (en este caso
<code>testfile02.txt</code>), pero añade la cadena al fichero si ya
existe (es decir, cuando lo ejecutamos por segunda vez).</p>
</div>
</div>
</div>
</div>
<div id="añadir-datos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="añadir-datos" class="callout-inner">
<h3 class="callout-title">Añadir datos</h3>
<div class="callout-content">
<p>Ya hemos visto el comando <code>head</code>, que imprime líneas desde
el principio de un fichero. el comando <code>tail</code> es similar,
pero imprime líneas desde el final del fichero.</p>
<p>Considera el fichero
<code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>.
Después de estos comandos, seleccione la respuesta que corresponde al
fichero <code>animals-subset.csv</code>:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 3 animals.csv <span class="op">&gt;</span> animals-subset.csv</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-n</span> 2 animals.csv <span class="op">&gt;&gt;</span> animals-subset.csv</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Las tres primeras líneas de <code>animals.csv</code>
</li>
<li>Las dos últimas líneas de <code>animals.csv</code>
</li>
<li>Las tres primeras líneas y las dos últimas líneas de
<code>animals.csv</code>
</li>
<li>Las líneas segunda y tercera de <code>animals.csv</code>
</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>La opción 3 es correcta. Para que la opción 1 sea correcta sólo
ejecutaríamos el comando <code>head</code>. Para que la opción 2 sea
correcta sólo ejecutaríamos el comando <code>tail</code>. Para que la
opción 4 sea correcta tendríamos que canalizar la salida de
<code>head</code> en <code>tail -n 2</code> haciendo
<code>head -n 3 animals.csv | tail -n 2 &gt; animals-subset.csv</code></p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="pasar-salida-a-otro-comando">Pasar salida a otro comando<a class="anchor" aria-label="anchor" href="#pasar-salida-a-otro-comando"></a>
</h2>
<hr class="half-width">
<p>En nuestro ejemplo de encontrar el fichero con menos líneas, estamos
usando dos ficheros intermedios <code>lengths.txt</code> y
<code>sorted-lengths.txt</code> para almacenar la salida. Esta es una
forma confusa de trabajar porque incluso una vez que entiendes lo que
hacen <code>wc</code>, <code>sort</code>, y <code>head</code>, esos
ficheros intermedios hacen difícil seguir lo que está pasando. Podemos
hacerlo más fácil de entender ejecutando <code>sort</code> y
<code>head</code> juntos:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-n</span> lengths.txt <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  9  methane.pdb</code></pre>
</div>
<p>La barra vertical, <code>|</code>, entre los dos comandos se denomina
<strong>tubo</strong>. Indica al shell que queremos utilizar la salida
del comando de la izquierda como entrada para el comando de la
derecha.</p>
<p>Esto ha eliminado la necesidad del archivo
<code>sorted-lengths.txt</code>.</p>
</section><section><h2 class="section-heading" id="combinación-de-varios-comandos">Combinación de varios comandos<a class="anchor" aria-label="anchor" href="#combinaci%C3%B3n-de-varios-comandos"></a>
</h2>
<hr class="half-width">
<p>Nada nos impide encadenar tuberías consecutivamente. Por ejemplo,
podemos enviar la salida de <code>wc</code> directamente a
<code>sort</code>, y luego enviar la salida resultante a
<code>head</code>. Esto elimina la necesidad de ficheros
intermedios.</p>
<p>Empezaremos utilizando una tubería para enviar la salida de
<code>wc</code> a <code>sort</code>:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9 methane.pdb
  12 ethane.pdb
  15 propane.pdb
  20 cubane.pdb
  21 pentane.pdb
  30 octane.pdb
 107 total</code></pre>
</div>
<p>A continuación, podemos enviar esa salida a través de otra tubería, a
<code>head</code>, de modo que la tubería completa se convierte en:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   9  methane.pdb</code></pre>
</div>
<p>Esto es exactamente como si un matemático anidara funciones como
<em>log(3x)</em> y dijera ‘el logaritmo de tres veces <em>x</em>’. En
nuestro caso, el algoritmo es ‘cabeza de ordenación del recuento de
líneas de <code>*.pdb</code>’.</p>
<p>A continuación se ilustran la redirección y las tuberías utilizadas
en los últimos comandos:</p>
<figure><img src="../fig/redirects-and-pipes.svg" alt='Redirecciones y tuberías de diferentes comandos: "wc -l *.pdb" dirigirá la salida al shell. "wc -l *.pdb &gt; longitudes" dirigirá la salida al archivo "longitudes". "wc -l *.pdb | sort -n | head -n 1" creará un canal en el que la salida del comando "wc" es la entrada del comando "sort", la salida del comando "sort" es la entrada del comando "head" y la salida del comando "head" se dirige al intérprete de órdenes.' class="figure mx-auto d-block"></figure><div id="canalización-conjunta-de-comandos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="canalización-conjunta-de-comandos" class="callout-inner">
<h3 class="callout-title">Canalización conjunta de comandos</h3>
<div class="callout-content">
<p>En nuestro directorio actual, queremos encontrar los 3 archivos que
tienen el menor número de líneas. ¿Qué comando de los que aparecen a
continuación funcionaría?</p>
<ol style="list-style-type: decimal">
<li><code>wc -l * &gt; sort -n &gt; head -n 3</code></li>
<li><code>wc -l * | sort -n | head -n 1-3</code></li>
<li><code>wc -l * | head -n 3 | sort -n</code></li>
<li><code>wc -l * | sort -n | head -n 3</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>La opción 4 es la solución. El carácter de tubería <code>|</code> se
utiliza para conectar la salida de un comando a la entrada de otro. el
carácter <code>&gt;</code> se utiliza para redirigir la salida estándar
a un archivo. ¡Pruébalo en el directorio
<code>shell-lesson-data/exercise-data/alkanes</code>!</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="herramientas-diseñadas-para-trabajar-juntas">Herramientas diseñadas para trabajar juntas<a class="anchor" aria-label="anchor" href="#herramientas-dise%C3%B1adas-para-trabajar-juntas"></a>
</h2>
<hr class="half-width">
<p>Esta idea de enlazar programas entre sí es la razón por la que Unix
ha tenido tanto éxito. En lugar de crear programas enormes que intentan
hacer muchas cosas diferentes, los programadores de Unix se centran en
crear montones de herramientas sencillas que hacen bien un trabajo cada
una, y que funcionan bien entre sí. Este modelo de programación se llama
“tuberías y filtros”. Ya hemos visto las tuberías; un
<strong>filtro</strong> es un programa como <code>wc</code> o
<code>sort</code> que transforma un flujo de entrada en un flujo de
salida. Casi todas las herramientas estándar de Unix pueden trabajar de
esta manera. A menos que se les indique lo contrario, leen de la entrada
estándar, hacen algo con lo que han leído y escriben en la salida
estándar.</p>
<p>La clave es que cualquier programa que lea líneas de texto de la
entrada estándar y escriba líneas de texto en la salida estándar puede
combinarse con cualquier otro programa que también se comporte así.
Puedes <em>y debes</em> escribir tus programas de esta manera para que
tú y otras personas podáis poner esos programas en tuberías para
multiplicar su potencia.</p>
<div id="comprensión-de-lectura-de-tuberías" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="comprensión-de-lectura-de-tuberías" class="callout-inner">
<h3 class="callout-title">Comprensión de lectura de tuberías</h3>
<div class="callout-content">
<p>Un fichero llamado <code>animals.csv</code> (en la carpeta
<code>shell-lesson-data/exercise-data/animal-counts</code>) contiene los
siguientes datos:</p>
<pre class="source"><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-06,fox,4
2012-11-07,rabbit,16
2012-11-07,bear,1</code></pre>
<p>¿Qué texto pasa a través de cada una de las tuberías y la redirección
final en la tubería de abajo? Nota, el comando <code>sort -r</code>
ordena en orden inverso.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> cat animals.csv <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5 <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 3 <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-r</span> <span class="op">&gt;</span> final.txt</span></code></pre>
</div>
<p>Sugerencia: construye el oleoducto comando a comando para comprobar
que lo entiendes</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>El comando <code>head</code> extrae las 5 primeras líneas de
<code>animals.csv</code>. A continuación, se extraen las 3 últimas
líneas de las 5 anteriores mediante el comando <code>tail</code>. Con el
comando <code>sort -r</code> esas 3 líneas se ordenan en orden inverso.
Finalmente, la salida se redirige a un fichero: <code>final.txt</code>.
El contenido de este fichero se puede comprobar ejecutando
<code>cat final.txt</code>. El fichero debería contener las siguientes
líneas:</p>
<pre class="source"><code>2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-05,raccoon,7</code></pre>
</div>
</div>
</div>
</div>
<div id="construcción-de-tuberías" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="construcción-de-tuberías" class="callout-inner">
<h3 class="callout-title">Construcción de tuberías</h3>
<div class="callout-content">
<p>Para el fichero <code>animals.csv</code> del ejercicio anterior,
considere el siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv</span></code></pre>
</div>
<p>El comando <code>cut</code> se utiliza para eliminar o “cortar”
ciertas secciones de cada línea del fichero, y <code>cut</code> espera
que las líneas estén separadas en columnas por un carácter
<kbd>Tab</kbd>. Un carácter utilizado de esta forma se denomina
<strong>delimitador</strong>. En el ejemplo anterior utilizamos la
opción <code>-d</code> para especificar la coma como carácter
delimitador. También hemos utilizado la opción <code>-f</code> para
especificar que queremos extraer el segundo campo (columna). El
resultado es el siguiente</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">deer</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">raccoon</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">deer</span></span>
<span><span class="va">fox</span></span>
<span><span class="va">rabbit</span></span>
<span><span class="va">bear</span></span></code></pre>
</div>
<p>El comando <code>uniq</code> filtra las líneas coincidentes
adyacentes en un fichero. ¿Cómo se podría ampliar este filtrado
(utilizando <code>uniq</code> y otro comando) para averiguar qué
animales contiene el fichero (sin duplicados en sus nombres)?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> cut <span class="at">-d</span> , <span class="at">-f</span> 2 animals.csv <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="qué-tubería" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="qué-tubería" class="callout-inner">
<h3 class="callout-title">¿Qué tubería?</h3>
<div class="callout-content">
<p>El fichero <code>animals.csv</code> contiene 8 líneas de datos con el
siguiente formato:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
...</code></pre>
</div>
<p>El comando <code>uniq</code> tiene una opción <code>-c</code> que
proporciona un recuento del número de veces que aparece una línea en su
entrada. Suponiendo que tu directorio actual es
<code>shell-lesson-data/exercise-data/animal-counts</code>, ¿qué comando
utilizarías para producir una tabla que muestre el recuento total de
cada tipo de animal en el fichero?</p>
<ol style="list-style-type: decimal">
<li><code>sort animals.csv | uniq -c</code></li>
<li><code>sort -t, -k2,2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c</code></li>
<li><code>cut -d, -f 2 animals.csv | sort | uniq -c | wc -l</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Solución
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>La opción 4. es la respuesta correcta. Si tiene dificultades para
entender por qué, intente ejecutar los comandos, o subsecciones de las
tuberías (asegúrese de estar en el directorio
<code>shell-lesson-data/exercise-data/animal-counts</code>).</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="nelles-pipeline-comprobación-de-archivos">Nelle’s Pipeline: Comprobación de archivos<a class="anchor" aria-label="anchor" href="#nelles-pipeline-comprobaci%C3%B3n-de-archivos"></a>
</h2>
<hr class="half-width">
<p>Nelle ha pasado sus muestras por las máquinas de ensayo y ha creado
17 ficheros en el directorio <code>north-pacific-gyre</code> descrito
anteriormente. Como comprobación rápida, partiendo del directorio
<code>shell-lesson-data</code>, Nelle teclea:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> cd north-pacific-gyre</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<p>La salida son 18 líneas con el siguiente aspecto:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>300 NENE01729A.txt
300 NENE01729B.txt
300 NENE01736A.txt
300 NENE01751A.txt
300 NENE01751B.txt
300 NENE01812A.txt
... ...</code></pre>
</div>
<p>Ahora escribe esto:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 240 NENE02018B.txt
 300 NENE01729A.txt
 300 NENE01729B.txt
 300 NENE01736A.txt
 300 NENE01751A.txt</code></pre>
</div>
<p>Ups: uno de los archivos es 60 líneas más corto que los otros. Cuando
vuelve a comprobarlo, ve que hizo ese ensayo a las 8:00 de la mañana de
un lunes: probablemente alguien estuvo utilizando la máquina el fin de
semana y se olvidó de reiniciarla. Antes de volver a ejecutar esa
muestra, comprueba si algún archivo tiene demasiados datos:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 300 NENE02040B.txt
 300 NENE02040Z.txt
 300 NENE02043A.txt
 300 NENE02043B.txt
5040 total</code></pre>
</div>
<p>Esas cifras parecen buenas, pero ¿qué hace esa “Z” en la
antepenúltima línea? Todas sus muestras deberían estar marcadas con “A”
o “B”; por convención, su laboratorio utiliza la “Z” para indicar las
muestras en las que falta información. Para encontrar otras iguales,
hace esto:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>Z.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01971Z.txt    NENE02040Z.txt</code></pre>
</div>
<p>Efectivamente, cuando comprueba el registro en su portátil, no hay
ninguna profundidad registrada para ninguna de esas muestras. Como es
demasiado tarde para obtener la información de otra forma, debe excluir
esos dos archivos de su análisis. Podría eliminarlos utilizando
<code>rm</code>, pero hay algunos análisis que podría hacer más adelante
en los que la profundidad no importa, así que tendrá que tener cuidado
más adelante y seleccionar los archivos utilizando las expresiones
comodín <code>NENE*A.txt NENE*B.txt</code>.</p>
<div id="eliminar-archivos-innecesarios" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="eliminar-archivos-innecesarios" class="callout-inner">
<h3 class="callout-title">Eliminar archivos innecesarios</h3>
<div class="callout-content">
<p>Supongamos que desea eliminar los archivos de datos procesados y
conservar sólo los archivos sin procesar y el script de procesamiento
para ahorrar almacenamiento. Los archivos sin procesar terminan en
<code>.dat</code> y los archivos procesados terminan en
<code>.txt</code>. ¿Cuál de las siguientes opciones eliminaría todos los
archivos de datos procesados, y <em>sólo</em> los archivos de datos
procesados?</p>
<ol style="list-style-type: decimal">
<li><code>rm ?.txt</code></li>
<li><code>rm *.txt</code></li>
<li><code>rm * .txt</code></li>
<li><code>rm *.*</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Solución
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Esto eliminaría los archivos <code>.txt</code> con nombres de un
solo carácter</li>
<li>Ésta es la respuesta correcta</li>
<li>El shell expandiría <code>*</code> para que coincidiera con todo lo
que hay en el directorio actual, por lo que el comando intentaría
eliminar todos los archivos coincidentes y un archivo adicional llamado
<code>.txt</code>
</li>
<li>El intérprete de comandos expande <code>*.*</code> para que coincida
con todos los nombres de archivo que contengan al menos un
<code>.</code>, incluidos los archivos procesados (<code>.txt</code>)
<em>y</em> los archivos sin procesar (<code>.dat</code>)</li>
</ol>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>
<code>wc</code> cuenta líneas, palabras y caracteres en sus
entradas.</li>
<li>
<code>cat</code> muestra el contenido de sus entradas.</li>
<li>
<code>sort</code> ordena sus entradas.</li>
<li>
<code>head</code> muestra las 10 primeras líneas de su entrada.</li>
<li>
<code>tail</code> muestra las 10 últimas líneas de su entrada.</li>
<li>
<code>command &gt; [file]</code> redirige la salida de un comando a
un archivo (sobrescribiendo cualquier contenido existente).</li>
<li>
<code>command &gt;&gt; [file]</code> añade la salida de un comando a
un archivo.</li>
<li>
<code>[first] | [second]</code> es una canalización: la salida del
primer comando se utiliza como entrada del segundo.</li>
<li>La mejor forma de utilizar el intérprete de comandos es usar
tuberías para combinar programas sencillos de un solo propósito
(filtros).</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-05-loop"><p>Content from <a href="05-loop.html">Loops</a></p>
<hr>
<p>Última actualización: 2024-09-19 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/05-loop.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 50 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo realizar las mismas acciones en muchos archivos
diferentes?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Escribe un bucle que aplique uno o más comandos por separado a cada
archivo de un conjunto de archivos.</li>
<li>Trazar los valores que toma una variable de bucle durante la
ejecución del bucle.</li>
<li>Explica la diferencia entre el nombre de una variable y su
valor.</li>
<li>Explique por qué no deben utilizarse espacios ni algunos caracteres
de puntuación en los nombres de archivo.</li>
<li>Demuestre cómo ver qué comandos se han ejecutado recientemente.</li>
<li>Reejecuta los comandos ejecutados recientemente sin volver a
escribirlos.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p><strong>Los bucles</strong> son una construcción de programación que
nos permite repetir un comando o conjunto de comandos para cada elemento
de una lista. Como tales, son fundamentales para mejorar la
productividad mediante la automatización. Al igual que los comodines y
el tabulador, los bucles reducen la cantidad de texto que hay que
teclear (y, por tanto, el número de errores).</p>
<p>Supongamos que tenemos varios cientos de archivos de datos del genoma
llamados <code>basilisk.dat</code>, <code>minotaur.dat</code> y
<code>unicorn.dat</code>. Para este ejemplo, utilizaremos el directorio
<code>exercise-data/creatures</code> que sólo tiene tres archivos de
ejemplo, pero los principios pueden aplicarse a muchos más archivos a la
vez.</p>
<p>La estructura de estos ficheros es la misma: el nombre común, la
clasificación y la fecha de actualización se presentan en las tres
primeras líneas, con las secuencias de ADN en las líneas siguientes.
Veamos los ficheros</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 5 basilisk.dat minotaur.dat unicorn.dat</span></code></pre>
</div>
<p>Queremos imprimir la clasificación de cada especie, que figura en la
segunda línea de cada fichero. Para cada fichero, tendríamos que
ejecutar el comando <code>head -n 2</code> y enviarlo a
<code>tail -n 1</code>. Utilizaremos un bucle para resolver este
problema, pero primero veamos la forma general de un bucle, utilizando
el pseudocódigo siguiente:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># The word "for" indicates the start of a "For-loop" command</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="cf">for</span> thing <span class="kw">in</span> list_of_things </span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#The word "do" indicates the start of job execution list</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="cf">do</span> </span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>    <span class="co"># Indentation within the loop is not required, but aids legibility</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="ex">operation_using/command</span> <span class="va">$thing</span> </span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># The word "done" indicates the end of a loop</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="cf">done</span>  </span></code></pre>
</div>
<p>y podemos aplicarlo a nuestro ejemplo así:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> for filename in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$filename</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 2 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>basilisk.dat
CLASSIFICATION: basiliscus vulgaris
minotaur.dat
CLASSIFICATION: bos hominus
unicorn.dat
CLASSIFICATION: equus monoceros</code></pre>
</div>
<div id="siga-las-instrucciones" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="siga-las-instrucciones" class="callout-inner">
<h3 class="callout-title">Siga las instrucciones</h3>
<div class="callout-content">
<p>El prompt de la shell cambia de <code>$</code> a <code>&gt;</code> y
viceversa mientras tecleamos en nuestro bucle. El segundo prompt,
<code>&gt;</code>, es diferente para recordarnos que aún no hemos
terminado de escribir un comando completo. Se puede usar un punto y
coma, <code>;</code>, para separar dos comandos escritos en una sola
línea.</p>
</div>
</div>
</div>
<p>Cuando el shell ve la palabra clave <code>for</code>, sabe que debe
repetir un comando (o grupo de comandos) una vez por cada elemento de
una lista. Cada vez que se ejecuta el bucle (llamado iteración), se
asigna un elemento de la lista a la <strong>variable</strong>, y se
ejecutan los comandos dentro del bucle, antes de pasar al siguiente
elemento de la lista. Dentro del bucle, pedimos el valor de la variable
poniendo <code>$</code> delante de ella. El <code>$</code> le dice al
intérprete del shell que trate la variable como un nombre de variable y
sustituya su valor en su lugar, en lugar de tratarla como texto o un
comando externo.</p>
<p>En este ejemplo, la lista son tres nombres de fichero:
<code>basilisk.dat</code>, <code>minotaur.dat</code>, y
<code>unicorn.dat</code>. Cada vez que el bucle itera, primero usamos
<code>echo</code> para imprimir el valor que la variable
<code>$filename</code> tiene actualmente. Esto no es necesario para el
resultado, pero nos beneficia aquí para seguirlo más fácilmente. A
continuación, ejecutaremos el comando <code>head</code> en el fichero
referenciado actualmente por <code>$filename</code>. La primera vez a
través del bucle, <code>$filename</code> es <code>basilisk.dat</code>.
El intérprete ejecuta el comando <code>head</code> en
<code>basilisk.dat</code> y envía las dos primeras líneas al comando
<code>tail</code>, que a su vez imprime la segunda línea de
<code>basilisk.dat</code>. Para la segunda iteración,
<code>$filename</code> se convierte en <code>minotaur.dat</code>. Esta
vez, el shell ejecuta <code>head</code> en <code>minotaur.dat</code> y
envía las dos primeras líneas al comando <code>tail</code>, que imprime
la segunda línea de <code>minotaur.dat</code>. Para la tercera
iteración, <code>$filename</code> se convierte en
<code>unicorn.dat</code>, así que el shell ejecuta el comando
<code>head</code> en ese fichero, y <code>tail</code> en la salida del
mismo. Como la lista sólo tenía tres elementos, el shell sale del bucle
<code>for</code>.</p>
<div id="mismos-símbolos-distintos-significados" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="mismos-símbolos-distintos-significados" class="callout-inner">
<h3 class="callout-title">Mismos símbolos, distintos significados</h3>
<div class="callout-content">
<p>Aquí vemos que <code>&gt;</code> se utiliza como prompt del shell,
mientras que <code>&gt;</code> también se utiliza para redirigir la
salida. De forma similar, <code>$</code> se usa como prompt del shell,
pero, como vimos antes, también se usa para pedir al shell que obtenga
el valor de una variable.</p>
<p>Si el <em>shell</em> imprime <code>&gt;</code> o <code>$</code>
entonces espera que escribas algo, y el símbolo es un prompt.</p>
<p>Si <em>usted mismo</em> teclea <code>&gt;</code> o <code>$</code>, es
una instrucción suya para que el shell redirija la salida u obtenga el
valor de una variable.</p>
</div>
</div>
</div>
<p>Cuando se utilizan variables también es posible poner los nombres
entre llaves para delimitar claramente el nombre de la variable:
<code>$filename</code> es equivalente a <code>${filename}</code>, pero
es diferente de <code>${file}name</code>. Puede que encuentres esta
notación en los programas de otras personas.</p>
<p>Hemos llamado a la variable de este bucle <code>filename</code> para
que su propósito sea más claro para los lectores humanos. Al shell en sí
no le importa cómo se llama la variable; si escribiéramos este bucle
como:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> for x in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 2 <span class="va">$x</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>o:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> for temperature in basilisk.dat minotaur.dat unicorn.dat</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 2 <span class="va">$temperature</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 1</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>funcionaría exactamente igual. *Los programas sólo son útiles si la
gente puede entenderlos, por lo que los nombres sin sentido (como
<code>x</code>) o los nombres engañosos (como <code>temperature</code>)
aumentan las probabilidades de que el programa no haga lo que sus
lectores piensan que hace.</p>
<p>En los ejemplos anteriores, las variables (<code>thing</code>,
<code>filename</code>, <code>x</code> y <code>temperature</code>)
podrían haber recibido cualquier otro nombre, siempre que sea
significativo tanto para la persona que escribe el código como para la
que lo lee.</p>
<p>Observe también que los bucles pueden utilizarse para otras cosas
además de nombres de archivo, como una lista de números o un subconjunto
de datos.</p>
<div id="escribe-tu-propio-bucle" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="escribe-tu-propio-bucle" class="callout-inner">
<h3 class="callout-title">Escribe tu propio bucle</h3>
<div class="callout-content">
<p>¿Cómo escribirías un bucle que repita los 10 números del 0 al 9?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> for loop_variable in 0 1 2 3 4 5 6 7 8 9</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$loop_variable</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0</span></span>
<span><span class="fl">1</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">4</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">8</span></span>
<span><span class="fl">9</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="variables-en-bucles" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variables-en-bucles" class="callout-inner">
<h3 class="callout-title">Variables en bucles</h3>
<div class="callout-content">
<p>Este ejercicio se refiere al directorio
<code>shell-lesson-data/exercise-data/alkanes</code>.
<code>ls *.pdb</code> da la siguiente salida:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</code></pre>
</div>
<p>¿Cuál es el resultado del siguiente código?</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="ex">*.pdb</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Ahora, ¿cuál es la salida del siguiente código?</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="va">$datafile</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>¿Por qué estos dos bucles dan resultados diferentes?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>El primer bloque de código da la misma salida en cada iteración del
bucle. Bash expande el comodín <code>*.pdb</code> dentro del cuerpo del
bucle (así como antes de que el bucle comience) para que coincida con
todos los archivos que terminan en <code>.pdb</code> y luego los lista
usando <code>ls</code>. El bucle expandido tendría este aspecto</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> for datafile in cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="ex">cubane.pdb</span>  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb
cubane.pdb  ethane.pdb  methane.pdb  octane.pdb  pentane.pdb  propane.pdb</code></pre>
</div>
<p>El segundo bloque de código lista un fichero diferente en cada
iteración del bucle. El valor de la variable <code>datafile</code> se
evalúa con <code>$datafile</code>, y luego se lista con
<code>ls</code>.</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">cubane.pdb</span></span>
<span><span class="va">ethane.pdb</span></span>
<span><span class="va">methane.pdb</span></span>
<span><span class="va">octane.pdb</span></span>
<span><span class="va">pentane.pdb</span></span>
<span><span class="va">propane.pdb</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="limitar-conjuntos-de-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="limitar-conjuntos-de-archivos" class="callout-inner">
<h3 class="callout-title">Limitar conjuntos de archivos</h3>
<div class="callout-content">
<p>¿Cuál sería el resultado de ejecutar el siguiente bucle en el
directorio <code>shell-lesson-data/exercise-data/alkanes</code>?</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> for filename in c<span class="pp">*</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="va">$filename</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>No hay archivos en la lista.</li>
<li>Aparecen todos los archivos.</li>
<li>Sólo aparecen <code>cubane.pdb</code>, <code>octane.pdb</code> y
<code>pentane.pdb</code>.</li>
<li>Sólo aparece <code>cubane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>4 es la respuesta correcta.<code>*</code> coincide con cero o más
caracteres, por lo que cualquier nombre de archivo que empiece por la
letra c, seguida de cero o más caracteres será coincidente.</p>
</div>
</div>
</div>
</div>
<div id="limitar-conjuntos-de-archivos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="limitar-conjuntos-de-archivos" class="callout-inner">
<h3 class="callout-title">Limitar conjuntos de archivos<em>
(continued)</em>
</h3>
<div class="callout-content">
<p>¿En qué se diferenciaría el resultado de utilizar este comando?</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>c<span class="pp">*</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="op">&gt;</span>     ls <span class="va">$filename</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Aparecerían los mismos archivos.</li>
<li>Esta vez aparecen todos los archivos.</li>
<li>Esta vez no hay archivos en la lista.</li>
<li>Se listarán los ficheros <code>cubane.pdb</code> y
<code>octane.pdb</code>.</li>
<li>Sólo se listará el fichero <code>octane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>4 es la respuesta correcta.<code>*</code> coincide con cero o más
caracteres, por lo que un nombre de archivo con cero o más caracteres
antes de la letra c y cero o más caracteres después de la letra c será
coincidente.</p>
</div>
</div>
</div>
</div>
<div id="guardar-en-un-archivo-en-bucle---primera-parte" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="guardar-en-un-archivo-en-bucle---primera-parte" class="callout-inner">
<h3 class="callout-title">Guardar en un archivo en bucle - Primera parte</h3>
<div class="callout-content">
<p>En el directorio
<code>shell-lesson-data/exercise-data/alkanes</code>, ¿cuál es el efecto
de este bucle?</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="cf">for</span> alkanes <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$alkanes</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$alkanes</span> <span class="op">&gt;</span> alkanes.pdb</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Imprime <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> y <code>propane.pdb</code>, y el texto de
<code>propane.pdb</code> se guardará en un fichero llamado
<code>alkanes.pdb</code>.</li>
<li>Imprime <code>cubane.pdb</code>, <code>ethane.pdb</code>, y
<code>methane.pdb</code>, y el texto de los tres ficheros se concatena y
se guarda en un fichero llamado <code>alkanes.pdb</code>.</li>
<li>Imprime <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>, y
<code>pentane.pdb</code>, y el texto de <code>propane.pdb</code> se
guardará en un fichero llamado <code>alkanes.pdb</code>.</li>
<li>Ninguna de las anteriores.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>El texto de cada fichero se escribe sucesivamente en el fichero
<code>alkanes.pdb</code>. Sin embargo, el archivo se sobrescribe en cada
iteración del bucle, por lo que el contenido final de
<code>alkanes.pdb</code> es el texto del archivo
<code>propane.pdb</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="guardar-en-un-archivo-en-bucle---segunda-parte" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="guardar-en-un-archivo-en-bucle---segunda-parte" class="callout-inner">
<h3 class="callout-title">Guardar en un archivo en bucle - Segunda parte</h3>
<div class="callout-content">
<p>También en el directorio
<code>shell-lesson-data/exercise-data/alkanes</code>, ¿cuál sería la
salida del siguiente bucle?</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="pp">*</span>.pdb</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Todo el texto de <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code> y
<code>pentane.pdb</code> se concatenaría y se guardaría en un fichero
llamado <code>all.pdb</code>.</li>
<li>El texto de <code>ethane.pdb</code> se guardará en un archivo
llamado <code>all.pdb</code>.</li>
<li>Todo el texto de <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> y <code>propane.pdb</code> sería concatenado y
guardado en un fichero llamado <code>all.pdb</code>.</li>
<li>Todo el texto de <code>cubane.pdb</code>, <code>ethane.pdb</code>,
<code>methane.pdb</code>, <code>octane.pdb</code>,
<code>pentane.pdb</code> y <code>propane.pdb</code> se imprimiría en la
pantalla y se guardaría en un fichero llamado <code>all.pdb</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>3 es la respuesta correcta. <code>&gt;&gt;</code> añade a un archivo,
en lugar de sobrescribirlo con la salida redirigida de un comando. Dado
que la salida del comando <code>cat</code> ha sido redirigida, no se
imprime nada en la pantalla.</p>
</div>
</div>
</div>
</div>
<p>Continuemos con nuestro ejemplo en el directorio
<code>shell-lesson-data/exercise-data/creatures</code>. Aquí tenemos un
bucle un poco más complicado:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.dat</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$filename</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>El shell comienza expandiendo <code>*.dat</code> para crear la lista
de ficheros que procesará. A continuación, el <strong>cuerpo de
bucle</strong> ejecuta dos órdenes para cada uno de esos ficheros. El
primer comando, <code>echo</code>, imprime sus argumentos de línea de
comandos en la salida estándar. Por ejemplo</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> echo hello there</span></code></pre>
</div>
<p>imprime:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>hello there</code></pre>
</div>
<p>En este caso, dado que el shell expande <code>$filename</code> para
que sea el nombre de un fichero, <code>echo $filename</code> imprime el
nombre del fichero. Observe que no podemos escribir esto como</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.dat</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="op">&gt;</span>     <span class="va">$filename</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 100 <span class="va">$filename</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>porque entonces la primera vez a través del bucle, cuando
<code>$filename</code> se expandiera a <code>basilisk.dat</code>, el
shell intentaría ejecutar <code>basilisk.dat</code> como un programa.
Finalmente, la combinación <code>head</code> y <code>tail</code>
selecciona las líneas 81-100 de cualquier fichero que se esté procesando
(asumiendo que el fichero tiene al menos 100 líneas).</p>
<div id="espacios-en-los-nombres" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="espacios-en-los-nombres" class="callout-inner">
<h3 class="callout-title">Espacios en los nombres</h3>
<div class="callout-content">
<p>Los espacios se utilizan para separar los elementos de la lista que
vamos a recorrer en bucle. Si uno de esos elementos contiene un espacio,
debemos rodearlo de comillas y hacer lo mismo con nuestra variable de
bucle. Supongamos que nuestros ficheros de datos se llaman</p>
<pre class="source"><code>red dragon.dat
purple unicorn.dat</code></pre>
<p>Para realizar un bucle sobre estos archivos, tendríamos que añadir
comillas dobles de la siguiente manera:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="st">"red dragon.dat"</span> <span class="st">"purple unicorn.dat"</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="op">&gt;</span>     head <span class="ex">-n</span> 100 <span class="st">"</span><span class="va">$filename</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 20</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Es más sencillo evitar el uso de espacios (u otros caracteres
especiales) en los nombres de archivo.</p>
<p>Los ficheros anteriores no existen, por lo que si ejecutamos el
código anterior, el comando <code>head</code> será incapaz de
encontrarlos; sin embargo, el mensaje de error devuelto mostrará el
nombre de los ficheros que está esperando:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>head: cannot open ‘red dragon.dat' for reading: No such file or directory
head: cannot open ‘purple unicorn.dat' for reading: No such file or directory</code></pre>
</div>
<p>Intente eliminar las comillas alrededor de <code>$filename</code> en
el bucle anterior para ver el efecto de las comillas sobre los espacios.
Observe que obtenemos un resultado del comando de bucle para unicorn.dat
cuando ejecutamos este código en el directorio
<code>creatures</code>:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>head: cannot open ‘red' for reading: No such file or directory
head: cannot open ‘dragon.dat' for reading: No such file or directory
head: cannot open ‘purple' for reading: No such file or directory
CGGTACCGAA
AAGGGTCGCG
CAAGTGTTCC
...</code></pre>
</div>
</div>
</div>
</div>
<p>Queremos modificar cada uno de los ficheros de
<code>shell-lesson-data/exercise-data/creatures</code>, pero también
guardar una versión de los ficheros originales. Queremos copiar los
ficheros originales en nuevos ficheros llamados
<code>original-basilisk.dat</code> y <code>original-unicorn.dat</code>,
por ejemplo. No podemos utilizar</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> cp <span class="pp">*</span>.dat original-<span class="pp">*</span>.dat</span></code></pre>
</div>
<p>porque se ampliaría a:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> cp basilisk.dat minotaur.dat unicorn.dat original-<span class="pp">*</span>.dat</span></code></pre>
</div>
<p>Esto no haría una copia de seguridad de nuestros archivos, en su
lugar obtenemos un error:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>cp: target `original-*.dat' is not a directory</code></pre>
</div>
<p>Este problema surge cuando <code>cp</code> recibe más de dos
entradas. Cuando esto ocurre, espera que la última entrada sea un
directorio en el que pueda copiar todos los ficheros que se le han
pasado. Como no hay ningún directorio llamado
<code>original-*.dat</code> en el directorio <code>creatures</code>,
obtenemos un error.</p>
<p>En su lugar, podemos utilizar un bucle:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.dat</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="op">&gt;</span>     cp <span class="va">$filename</span> original-<span class="va">$filename</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>Este bucle ejecuta el comando <code>cp</code> una vez por cada nombre
de fichero. La primera vez, cuando <code>$filename</code> se expande a
<code>basilisk.dat</code>, el shell ejecuta</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">cp</span> basilisk.dat original-basilisk.dat</span></code></pre>
</div>
<p>La segunda vez, el comando es:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">cp</span> minotaur.dat original-minotaur.dat</span></code></pre>
</div>
<p>La tercera y última vez, el comando es:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">cp</span> unicorn.dat original-unicorn.dat</span></code></pre>
</div>
<p>Como el comando <code>cp</code> normalmente no produce ninguna
salida, es difícil comprobar que el bucle funciona correctamente. Sin
embargo, antes aprendimos a imprimir cadenas utilizando
<code>echo</code>, y podemos modificar el bucle para utilizar
<code>echo</code> para imprimir nuestros comandos sin ejecutarlos
realmente. Así podemos comprobar qué comandos <em>se ejecutarían</em> en
el bucle sin modificar.</p>
<p>El siguiente diagrama muestra lo que ocurre cuando se ejecuta el
bucle modificado y demuestra cómo el uso juicioso de <code>echo</code>
es una buena técnica de depuración.</p>
<figure><img src="../fig/shell_script_for_loop_flow_chart.svg" alt='El bucle for "for filename in .dat; do echo cp $filename original-$filename;done" asignará sucesivamente los nombres de todos los archivos ".dat" del directorio actual a la variable "$filename" y luego ejecutará el comando. Con los archivos "basilisk.dat", "minotaur.dat" y "unicorn.dat" en el directorio actual, el bucle llamará sucesivamente al comando echo tres veces e imprimirá tres líneas: "cp basilisco.dat original-basilisco.dat", luego "cp minotauro.datoriginal-minotauro.dat" y finalmente "cp unicornio.datoriginal-unicornio.dat"' class="figure mx-auto d-block"></figure><section><h2 class="section-heading" id="nelles-pipeline-procesamiento-de-archivos">Nelle’s Pipeline: Procesamiento de archivos<a class="anchor" aria-label="anchor" href="#nelles-pipeline-procesamiento-de-archivos"></a>
</h2>
<hr class="half-width">
<p>Nelle ya está preparada para procesar sus archivos de datos
utilizando <code>goostats.sh</code>, un script escrito por su
supervisor. Éste calcula algunas estadísticas a partir de un archivo de
muestra de proteínas y toma dos argumentos:</p>
<ol style="list-style-type: decimal">
<li>un archivo de entrada (que contiene los datos brutos)</li>
<li>un archivo de salida (para almacenar las estadísticas
calculadas)</li>
</ol>
<p>Como todavía está aprendiendo a usar el shell, decide crear los
comandos necesarios por etapas. Su primer paso es asegurarse de que
puede seleccionar los archivos de entrada correctos — recuerda, son
aquellos cuyos nombres terminan en ‘A’ o ‘B’, en lugar de ‘Z’. En el
directorio <code>north-pacific-gyre</code>, Nelle escribe:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="ex">$</span> cd Desktop/shell-lesson-data/north-pacific-gyre</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$datafile</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">NENE01729B.txt</span></span>
<span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">...</span></span>
<span><span class="va">NENE02043A.txt</span></span>
<span><span class="va">NENE02043B.txt</span></span></code></pre>
</div>
<p>Su siguiente paso es decidir cómo llamar a los archivos que creará el
programa de análisis <code>goostats.sh</code>. Prefijar el nombre de
cada fichero de entrada con ‘stats’ parece sencillo, así que modifica su
bucle para hacerlo:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NENE01729A.txt stats-NENE01729A.txt
NENE01729B.txt stats-NENE01729B.txt
NENE01736A.txt stats-NENE01736A.txt
...
NENE02043A.txt stats-NENE02043A.txt
NENE02043B.txt stats-NENE02043B.txt</code></pre>
</div>
<p>Aún no ha ejecutado <code>goostats.sh</code>, pero ahora está segura
de que puede seleccionar los archivos correctos y generar los nombres de
archivo de salida adecuados.</p>
<p>Sin embargo, teclear los comandos una y otra vez se está volviendo
tedioso, y a Nelle le preocupa cometer errores, así que en lugar de
volver a entrar en su bucle, pulsa <kbd>↑</kbd>. En respuesta, el
intérprete de comandos vuelve a mostrar todo el bucle en una sola línea
(utilizando punto y coma para separar las piezas):</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<p>Utilizando el <kbd>←</kbd>, Nelle navega hasta el comando
<code>echo</code> y lo cambia por <code>bash goostats.sh</code>:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<p>Cuando pulsa <kbd>Intro</kbd>, el shell ejecuta el comando
modificado. Sin embargo, no parece ocurrir nada: no hay salida. Después
de un momento, Nelle se da cuenta de que, como su script ya no imprime
nada en la pantalla, no tiene ni idea de si se está ejecutando, y mucho
menos de a qué velocidad. Ella mata el comando en ejecución escribiendo
<kbd>Ctrl</kbd>+<kbd>C</kbd>, utiliza <kbd>↑</kbd> para repetir el
comando, y lo edita para que se lea:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> for datafile in NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt<span class="kw">;</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$datafile</span><span class="kw">;</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<div id="principio-y-fin" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="principio-y-fin" class="callout-inner">
<h3 class="callout-title">Principio y fin</h3>
<div class="callout-content">
<p>Podemos movernos al principio de una línea en el shell tecleando
<kbd>Ctrl</kbd>+<kbd>A</kbd> y al final utilizando
<kbd>Ctrl</kbd>+<kbd>E</kbd>.</p>
</div>
</div>
</div>
<p>Cuando ejecuta su programa ahora, produce una línea de salida cada
cinco segundos aproximadamente:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">NENE01729B.txt</span></span>
<span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">...</span></span></code></pre>
</div>
<p>1518 veces 5 segundos, dividido por 60, le indica que su script
tardará unas dos horas en ejecutarse. Como última comprobación, abre
otra ventana de terminal, entra en <code>north-pacific-gyre</code> y
utiliza <code>cat stats-NENE01729B.txt</code> para examinar uno de los
archivos de salida. Tiene buena pinta, así que decide tomarse un café y
ponerse al día con la lectura.</p>
<div id="los-que-conocen-la-historia-pueden-elegir-repetirla" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="los-que-conocen-la-historia-pueden-elegir-repetirla" class="callout-inner">
<h3 class="callout-title">Los que conocen la Historia pueden elegir repetirla</h3>
<div class="callout-content">
<p>Otra forma de repetir el trabajo anterior es utilizar el comando
<code>history</code> para obtener una lista de los últimos cientos de
comandos que se han ejecutado y, a continuación, utilizar
<code>!123</code> (donde <code>123</code> se sustituye por el número de
comando) para repetir uno de esos comandos. Por ejemplo, si Nelle
escribe esto</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>456  for datafile in NENE*A.txt NENE*B.txt; do   echo $datafile stats-$datafile; done
457  for datafile in NENE*A.txt NENE*B.txt; do echo $datafile stats-$datafile; done
458  for datafile in NENE*A.txt NENE*B.txt; do bash goostats.sh $datafile stats-$datafile; done
459  for datafile in NENE*A.txt NENE*B.txt; do echo $datafile; bash goostats.sh $datafile
stats-$datafile; done
460  history | tail -n 5</code></pre>
</div>
<p>entonces puede volver a ejecutar <code>goostats.sh</code> en los
archivos simplemente escribiendo <code>!459</code>.</p>
</div>
</div>
</div>
<div id="otros-comandos-de-historia" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="otros-comandos-de-historia" class="callout-inner">
<h3 class="callout-title">Otros Comandos de Historia</h3>
<div class="callout-content">
<p>Existen otros comandos abreviados para acceder al historial.</p>
<ul>
<li>
<kbd>Ctrl</kbd>+<kbd>R</kbd> entra en un modo de búsqueda en el
historial <i-b inversa> y encuentra el comando más reciente de tu historial que
coincida con el texto que introduzcas a continuación. Pulsa
<kbd>Ctrl</kbd>+<kbd>R</kbd> una o varias veces más para buscar
coincidencias anteriores. A continuación, puedes utilizar las teclas de
flecha izquierda y derecha para elegir esa línea y editarla, y luego
pulsar <kbd>Return</kbd> para ejecutar el comando.</i-b>
</li>
<li>
<code>!!</code> recupera el comando inmediatamente anterior (puede
que esto le resulte más cómodo o no que utilizar <kbd>↑</kbd>)</li>
<li>
<code>!$</code> recupera la última palabra del último comando. Esto
es útil más a menudo de lo que esperas: después de
<code>bash goostats.sh NENE01729B.txt stats-NENE01729B.txt</code>,
puedes teclear <code>less !$</code> para mirar el fichero
<code>stats-NENE01729B.txt</code>, lo que es más rápido que hacer
<kbd>↑</kbd> y editar la línea de comandos.</li>
</ul>
</div>
</div>
</div>
<div id="hacer-un-simulacro" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="hacer-un-simulacro" class="callout-inner">
<h3 class="callout-title">Hacer un simulacro</h3>
<div class="callout-content">
<p>Un bucle es una forma de hacer muchas cosas a la vez — o de cometer
muchos errores a la vez si hace lo incorrecto. Una forma de comprobar lo
que un bucle <em>haría</em> es <code>echo</code> los comandos que
ejecutaría en lugar de ejecutarlos realmente.</p>
<p>Supongamos que queremos previsualizar los comandos que ejecutará el
siguiente bucle sin llegar a ejecutar dichos comandos:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="op">&gt;</span>     cat <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>¿Cuál es la diferencia entre los dos bucles que aparecen a
continuación y cuál de ellos queremos ejecutar?</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="co"># Version 1</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="fu">cat</span> <span class="va">$datafile</span> <span class="op">&gt;&gt;</span> all.pdb</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="co"># Version 2</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="ex">$</span> for datafile in <span class="pp">*</span>.pdb</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="op">&gt;</span>     echo <span class="st">"cat </span><span class="va">$datafile</span><span class="st"> &gt;&gt; all.pdb"</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Solución
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>La segunda versión es la que queremos ejecutar. Esta imprime en
pantalla todo lo que está entre comillas, expandiendo el nombre de la
variable de bucle porque le hemos puesto el prefijo del signo dólar.
Tampoco <em>modifica</em> ni crea el fichero <code>all.pdb</code>, ya
que el <code>&gt;&gt;</code> se trata literalmente como parte de una
cadena y no como una instrucción de redirección.</p>
<p>La primera versión añade la salida del comando
<code>echo cat $datafile</code> al fichero, <code>all.pdb</code>. Este
fichero sólo contendrá la lista: <code>cat cubane.pdb</code>,
<code>cat ethane.pdb</code>, <code>cat methane.pdb</code> etc.</p>
<p>Pruebe ambas versiones para ver el resultado Asegúrese de abrir el
archivo <code>all.pdb</code> para ver su contenido.</p>
</div>
</div>
</div>
</div>
<div id="bucles-anidados" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="bucles-anidados" class="callout-inner">
<h3 class="callout-title">Bucles anidados</h3>
<div class="callout-content">
<p>Supongamos que queremos establecer una estructura de directorios para
organizar algunos experimentos que miden las constantes de velocidad de
reacción con diferentes compuestos <em>y</em> diferentes temperaturas.
¿Cuál sería el resultado del siguiente código:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> for species in cubane ethane methane</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="op">&gt;</span>     for <span class="ex">temperature</span> in 25 30 37 40</span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="op">&gt;</span>     do</span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="op">&gt;</span>         mkdir <span class="va">$species</span><span class="ex">-</span><span class="va">$temperature</span></span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="op">&gt;</span>     done</span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Solución
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<p>Tenemos un bucle anidado, es decir, contenido dentro de otro bucle,
de modo que para cada especie en el bucle exterior, el bucle interior
(el bucle anidado) itera sobre la lista de temperaturas, y crea un nuevo
directorio para cada combinación.</p>
<p>¡Intente ejecutar el código usted mismo para ver qué directorios se
crean!</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>Un bucle <code>for</code> repite comandos una vez para cada cosa de
una lista.</li>
<li>Cada bucle <code>for</code> necesita una variable para referirse a
lo que está operando en ese momento.</li>
<li>Utilice <code>$name</code> para expandir una variable (es decir,
obtener su valor). también se puede utilizar <code>${name}</code>.</li>
<li>No utilice espacios, comillas ni caracteres comodín como ‘*’ o ‘?’
en los nombres de archivo, ya que complica la expansión de las
variables.</li>
<li>Asigne a los archivos nombres coherentes que sean fáciles de
emparejar con patrones comodín para facilitar su selección para el
bucle.</li>
<li>Utilice la tecla de flecha arriba para desplazarse por los comandos
anteriores y editarlos y repetirlos.</li>
<li>Utilice <kbd>Ctrl</kbd>+<kbd>R</kbd> para buscar entre los comandos
introducidos anteriormente.</li>
<li>Utilice <code>history</code> para mostrar los comandos recientes, y
<code>![number]</code> para repetir un comando por número.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-06-script"><p>Content from <a href="06-script.html">Shell Scripts</a></p>
<hr>
<p>Última actualización: 2024-09-19 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/06-script.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 45 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo guardar y reutilizar comandos?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Escribe un script de shell que ejecute un comando o una serie de
comandos para un conjunto fijo de archivos.</li>
<li>Ejecuta un script de shell desde la línea de comandos.</li>
<li>Escribe un script de shell que opere sobre un conjunto de ficheros
definidos por el usuario en la línea de comandos.</li>
<li>Cree pipelines que incluyan scripts de shell que usted, y otros,
hayan escrito.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Por fin estamos listos para ver qué hace del shell un entorno de
programación tan potente. Vamos a tomar los comandos que repetimos con
frecuencia y guardarlos en archivos para poder volver a ejecutar todas
esas operaciones más tarde tecleando un solo comando. Por razones
históricas, un montón de comandos guardados en un archivo se suele
llamar <strong>script de shell</strong>, pero no te equivoques: en
realidad son pequeños programas.</p>
<p>Escribir guiones de shell no sólo agilizará tu trabajo, sino que
además no tendrás que volver a escribir los mismos comandos una y otra
vez. También lo hará más preciso (menos posibilidades de errores
tipográficos) y más reproducible. Si vuelves a tu trabajo más tarde (o
si alguien más encuentra tu trabajo y quiere basarse en él), podrás
reproducir los mismos resultados simplemente ejecutando tu script, en
lugar de tener que recordar o volver a escribir una larga lista de
comandos.</p>
<p>Empecemos volviendo a <code>alkanes/</code> y creando un nuevo
fichero, <code>middle.sh</code> que se convertirá en nuestro script de
shell:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd alkanes</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<p>El comando <code>nano middle.sh</code> abre el fichero
<code>middle.sh</code> dentro del editor de texto ‘nano’ (que se ejecuta
dentro del shell). Si el fichero no existe, se creará. Podemos utilizar
el editor de texto para editar directamente el archivo insertando la
siguiente línea:</p>
<pre class="source"><code>head -n 15 octane.pdb | tail -n 5</code></pre>
<p>Esta es una variación de la tubería que construimos antes, que
selecciona las líneas 11-15 del fichero <code>octane.pdb</code>.
Recuerde que <em>no</em> lo estamos ejecutando como un comando todavía;
sólo estamos incorporando los comandos en un archivo.</p>
<p>A continuación guardamos el fichero (<code>Ctrl-O</code> en nano) y
salimos del editor de texto (<code>Ctrl-X</code> en nano). Comprueba que
el directorio <code>alkanes</code> contiene ahora un fichero llamado
<code>middle.sh</code>.</p>
<p>Una vez guardado el fichero, podemos pedir al intérprete de órdenes
que ejecute los comandos que contiene. Nuestro shell se llama
<code>bash</code>, así que ejecutamos el siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00
ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00
ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00
ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00
ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</code></pre>
</div>
<p>Con toda seguridad, la salida de nuestro script es exactamente la que
obtendríamos si ejecutáramos directamente esa tubería.</p>
<div id="texto-vs.-lo-que-sea" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="texto-vs.-lo-que-sea" class="callout-inner">
<h3 class="callout-title">Texto vs. Lo que sea</h3>
<div class="callout-content">
<p>Solemos llamar “editores de texto” a programas como Microsoft Word o
LibreOffice Writer, pero hay que tener un poco más de cuidado cuando se
trata de programar. Por defecto, Microsoft Word utiliza archivos
<code>.docx</code> para almacenar no sólo texto, sino también
información de formato sobre fuentes, encabezados, etcétera. Esta
información adicional no se almacena como caracteres y no significa nada
para herramientas como <code>head</code>, que espera que los archivos de
entrada sólo contengan las letras, dígitos y signos de puntuación de un
teclado de ordenador estándar. Por lo tanto, al editar programas, debe
utilizar un editor de texto sin formato o tener cuidado de guardar los
archivos como texto sin formato.</p>
</div>
</div>
</div>
<p>¿Qué pasa si queremos seleccionar líneas de un fichero arbitrario?
Podríamos editar <code>middle.sh</code> cada vez para cambiar el nombre
del fichero, pero eso probablemente nos llevaría más tiempo que escribir
el comando de nuevo en el shell y ejecutarlo con un nuevo nombre de
fichero. En su lugar, vamos a editar <code>middle.sh</code> y hacerlo
más versátil:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<p>Ahora, dentro de “nano”, sustituye el texto <code>octane.pdb</code>
por la variable especial llamada <code>$1</code>:</p>
<pre class="source"><code>head -n 15 "$1" | tail -n 5</code></pre>
<p>Dentro de un script de shell, <code>$1</code> significa
<code>el primer nombre de archivo (u otro argumento) de la línea de comandos</code>.
Ahora podemos ejecutar nuestro script así:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh octane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1      -4.502   0.681   0.785  1.00  0.00
ATOM     10  H           1      -5.254  -0.243  -0.537  1.00  0.00
ATOM     11  H           1      -4.357   1.252  -0.895  1.00  0.00
ATOM     12  H           1      -3.009  -0.741  -1.467  1.00  0.00
ATOM     13  H           1      -3.172  -1.337   0.206  1.00  0.00</code></pre>
</div>
<p>o en un archivo diferente como éste:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00
ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00
ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00
ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00
ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</code></pre>
</div>
<div id="comillas-dobles-alrededor-de-los-argumentos" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comillas-dobles-alrededor-de-los-argumentos" class="callout-inner">
<h3 class="callout-title">Comillas dobles alrededor de los argumentos</h3>
<div class="callout-content">
<p>Por la misma razón por la que ponemos la variable de bucle entre
comillas dobles, en caso de que el nombre de archivo contenga algún
espacio, rodeamos <code>$1</code> con comillas dobles.</p>
</div>
</div>
</div>
<p>Actualmente, tenemos que editar <code>middle.sh</code> cada vez que
queremos ajustar el rango de líneas que se devuelve. Arreglémoslo
configurando nuestro script para que utilice tres argumentos de línea de
comandos. Después del primer argumento de línea de comandos
(<code>$1</code>), cada argumento adicional que proporcionemos será
accesible a través de las variables especiales <code>$1</code>,
<code>$2</code>, <code>$3</code>, que se refieren al primer, segundo y
tercer argumento de línea de comandos, respectivamente.</p>
<p>Sabiendo esto, podemos utilizar argumentos adicionales para definir
el rango de líneas que se pasarán a <code>head</code> y
<code>tail</code> respectivamente:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<pre class="source"><code>head -n "$2" "$1" | tail -n "$3"</code></pre>
<p>Ya podemos correr:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb 15 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM      9  H           1       1.324   0.350  -1.332  1.00  0.00
ATOM     10  H           1       1.271   1.378   0.122  1.00  0.00
ATOM     11  H           1      -0.074  -0.384   1.288  1.00  0.00
ATOM     12  H           1      -0.048  -1.362  -0.205  1.00  0.00
ATOM     13  H           1      -1.183   0.500  -1.412  1.00  0.00</code></pre>
</div>
<p>Cambiando los argumentos de nuestro comando, podemos cambiar el
comportamiento de nuestro script:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> bash middle.sh pentane.pdb 20 5</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ATOM     14  H           1      -1.259   1.420   0.112  1.00  0.00
ATOM     15  H           1      -2.608  -0.407   1.130  1.00  0.00
ATOM     16  H           1      -2.540  -1.303  -0.404  1.00  0.00
ATOM     17  H           1      -3.393   0.254  -0.321  1.00  0.00
TER      18              1</code></pre>
</div>
<p>Esto funciona, pero puede que la próxima persona que lea
<code>middle.sh</code> tarde un momento en darse cuenta de lo que hace.
Podemos mejorar nuestro script añadiendo algunos
<strong>comentarios</strong> en la parte superior:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> nano middle.sh</span></code></pre>
</div>
<pre class="source"><code># Select lines from the middle of a file.
# Usage: bash middle.sh filename end_line num_lines
head -n "$2" "$1" | tail -n "$3"</code></pre>
<p>Un comentario empieza con un carácter <code>#</code> y llega hasta el
final de la línea. El ordenador ignora los comentarios, pero tienen un
valor incalculable para ayudar a la gente (incluido tu futuro yo) a
entender y utilizar los scripts. La única advertencia es que cada vez
que modifiques el script, debes comprobar que el comentario sigue siendo
correcto. Una explicación que lleve al lector en la dirección equivocada
es peor que ninguna.</p>
<p>¿Y si queremos procesar muchos archivos en una sola cadena? Por
ejemplo, si queremos ordenar nuestros ficheros <code>.pdb</code> por
longitud, teclearíamos</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="pp">*</span>.pdb <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
<p>porque <code>wc -l</code> lista el número de líneas de los ficheros
(recuerde que <code>wc</code> significa ‘recuento de palabras’,
añadiendo la opción <code>-l</code> significa ‘recuento de líneas’ en su
lugar) y <code>sort -n</code> ordena las cosas numéricamente. Podríamos
poner esto en un fichero, pero entonces sólo ordenaría una lista de
ficheros <code>.pdb</code> en el directorio actual. Si queremos obtener
una lista ordenada de otros tipos de ficheros, necesitamos una forma de
introducir todos esos nombres en el script. No podemos usar
<code>$1</code>, <code>$2</code>, etc. porque no sabemos cuántos
ficheros hay. En su lugar, usamos la variable especial <code>$@</code>,
que significa, ‘Todos los argumentos de línea de comandos del script de
shell’. También debemos poner <code>$@</code> entre comillas dobles para
manejar el caso de argumentos que contengan espacios (<code>"$@"</code>
es sintaxis especial y es equivalente a <code>"$1"</code>
<code>"$2"</code> …).</p>
<p>He aquí un ejemplo:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> nano sorted.sh</span></code></pre>
</div>
<pre class="source"><code># Sort files by their length.
# Usage: bash sorted.sh one_or_more_filenames
wc -l "$@" | sort -n</code></pre>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> bash sorted.sh <span class="pp">*</span>.pdb ../creatures/<span class="pp">*</span>.dat</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>9 methane.pdb
12 ethane.pdb
15 propane.pdb
20 cubane.pdb
21 pentane.pdb
30 octane.pdb
163 ../creatures/basilisk.dat
163 ../creatures/minotaur.dat
163 ../creatures/unicorn.dat
596 total</code></pre>
</div>
<div id="lista-de-especies-únicas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="lista-de-especies-únicas" class="callout-inner">
<h3 class="callout-title">Lista de especies únicas</h3>
<div class="callout-content">
<p>Leah tiene varios cientos de archivos de datos, cada uno de los
cuales tiene el siguiente formato:</p>
<pre class="source"><code>2013-11-05,deer,5
2013-11-05,rabbit,22
2013-11-05,raccoon,7
2013-11-06,rabbit,19
2013-11-06,deer,2
2013-11-06,fox,1
2013-11-07,rabbit,18
2013-11-07,bear,1</code></pre>
<p>Un ejemplo de este tipo de archivo aparece en
<code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code>.</p>
<p>Podemos utilizar el comando
<code>cut -d , -f 2 animals.csv | sort | uniq</code> para producir la
especie única en <code>animals.csv</code>. Para evitar tener que
escribir esta serie de comandos cada vez, un científico puede optar por
escribir un script en su lugar.</p>
<p>Escriba un script de shell llamado <code>species.sh</code> que tome
cualquier número de nombres de archivo como argumentos de línea de
comandos y utilice una variación del comando anterior para imprimir una
lista de las especies únicas que aparecen en cada uno de esos archivos
por separado.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Script to find unique species in csv files where species is the second data field</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="co"># This script accepts any number of file names as command line arguments</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="co"># Loop over all files</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="cf">for</span> file <span class="kw">in</span> <span class="va">$@</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Unique species in </span><span class="va">$file</span><span class="st">:"</span></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>    <span class="co"># Extract species names</span></span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>    <span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 2 <span class="va">$file</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Supongamos que acabamos de ejecutar una serie de comandos que han
hecho algo útil, por ejemplo, crear un gráfico que nos gustaría utilizar
en un artículo. Nos gustaría poder volver a crear el gráfico más
adelante si lo necesitamos, así que queremos guardar los comandos en un
archivo. En lugar de escribirlos de nuevo (y potencialmente
equivocarnos) podemos hacer esto:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> redo-figure-3.sh</span></code></pre>
</div>
<p>El archivo <code>redo-figure-3.sh</code> contiene ahora:</p>
<pre class="source"><code>297 bash goostats.sh NENE01729B.txt stats-NENE01729B.txt
298 bash goodiff.sh stats-NENE01729B.txt /data/validated/01729.txt &gt; 01729-differences.txt
299 cut -d ',' -f 2-3 01729-differences.txt &gt; 01729-time-series.txt
300 ygraph --format scatter --color bw --borders none 01729-time-series.txt figure-3.png
301 history | tail -n 5 &gt; redo-figure-3.sh</code></pre>
<p>Después de un momento de trabajo en un editor para eliminar los
números de serie de los comandos, y para eliminar la línea final donde
llamamos al comando <code>history</code>, tenemos un registro
completamente exacto de cómo creamos esa figura.</p>
<div id="por-qué-registrar-los-comandos-en-el-historial-antes-de-ejecutarlos" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="por-qué-registrar-los-comandos-en-el-historial-antes-de-ejecutarlos" class="callout-inner">
<h3 class="callout-title">¿Por qué registrar los comandos en el historial antes de ejecutarlos?</h3>
<div class="callout-content">
<p>Si ejecuta el comando:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 5 <span class="op">&gt;</span> recent.sh</span></code></pre>
</div>
<p>el último comando del archivo es el propio comando
<code>history</code>, es decir, el shell ha añadido <code>history</code>
al registro de comandos antes de ejecutarlo. De hecho, el shell
<em>siempre</em> añade comandos al registro antes de ejecutarlos. ¿Por
qué crees que lo hace?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Si un comando hace que algo se bloquee o se cuelgue, puede ser útil
saber cuál era ese comando para investigar el problema. Si el comando
sólo se registrara después de ejecutarlo, no tendríamos un registro del
último comando ejecutado en caso de que se produjera un bloqueo.</p>
</div>
</div>
</div>
</div>
<p>En la práctica, la mayoría de las personas desarrollan guiones de
shell ejecutando comandos en el indicador del shell unas cuantas veces
para asegurarse de que están haciendo lo correcto y, a continuación,
guardándolos en un archivo para reutilizarlos. Este estilo de trabajo
permite a la gente reciclar lo que descubren sobre sus datos y su flujo
de trabajo con una llamada a <code>history</code> y un poco de edición
para limpiar la salida y guardarla como un script de shell.</p>
<section><h2 class="section-heading" id="nelles-pipeline-creación-de-un-guión">Nelle’s Pipeline: Creación de un guión<a class="anchor" aria-label="anchor" href="#nelles-pipeline-creaci%C3%B3n-de-un-gui%C3%B3n"></a>
</h2>
<hr class="half-width">
<p>El supervisor de Nelle insistió en que todos sus análisis debían ser
reproducibles. La forma más fácil de capturar todos los pasos es en un
guión.</p>
<p>Primero volvemos al directorio del proyecto de Nelle:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> cd ../../north-pacific-gyre/</span></code></pre>
</div>
<p>Ella crea un archivo usando <code>nano</code> …</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> nano do-stats.sh</span></code></pre>
</div>
<p>…que contiene lo siguiente:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Lo guarda en un archivo llamado <code>do-stats.sh</code> para poder
volver a realizar la primera fase de su análisis escribiendo:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> bash do-stats.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code></pre>
</div>
<p>También puede hacerlo:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> bash do-stats.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code></pre>
</div>
<p>para que la salida sea sólo el número de ficheros procesados en lugar
de los nombres de los ficheros procesados.</p>
<p>Cabe destacar que el script de Nelle permite a la persona que lo
ejecuta decidir qué archivos procesar. Podría haberlo escrito como</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="co"># Calculate stats for Site A and Site B data files.</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datafile</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>La ventaja es que siempre selecciona los archivos correctos: no tiene
que acordarse de excluir los archivos “Z”. La desventaja es que
<em>siempre</em> selecciona sólo esos archivos: no puede ejecutarlo en
todos los archivos (incluidos los archivos “Z”), o en los archivos “G” o
“H” que producen sus colegas en la Antártida, sin editar el guión. Si
quisiera ser más atrevida, podría modificar el script para comprobar si
hay argumentos en la línea de comandos y utilizar
<code>NENE*A.txt NENE*B.txt</code> si no se proporciona ninguno. Por
supuesto, esto introduce otro compromiso entre flexibilidad y
complejidad.</p>
<div id="variables-en-shell-scripts" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="variables-en-shell-scripts" class="callout-inner">
<h3 class="callout-title">Variables en Shell Scripts</h3>
<div class="callout-content">
<p>En el directorio <code>alkanes</code>, imagine que tiene un script de
shell llamado <code>script.sh</code> que contiene los siguientes
comandos:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="fu">head</span> <span class="at">-n</span> <span class="va">$2</span> <span class="va">$1</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-n</span> <span class="va">$3</span> <span class="va">$1</span></span></code></pre>
</div>
<p>Mientras se encuentra en el directorio <code>alkanes</code>, escriba
el siguiente comando:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> bash script.sh <span class="st">'*.pdb'</span> 1 1</span></code></pre>
</div>
<p>¿Cuál de las siguientes salidas esperaría ver?</p>
<ol style="list-style-type: decimal">
<li>Todas las líneas entre la primera y la última línea de cada fichero
que termina en <code>.pdb</code> en el directorio
<code>alkanes</code>
</li>
<li>La primera y la última línea de cada fichero que termine en
<code>.pdb</code> en el directorio <code>alkanes</code>
</li>
<li>La primera y la última línea de cada fichero del directorio
<code>alkanes</code>
</li>
<li>Error debido a las comillas alrededor de <code>*.pdb</code>
</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Solución
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>La respuesta correcta es 2.</p>
<p>Las variables especiales <code>$1</code>, <code>$2</code> y
<code>$3</code> representan los argumentos de línea de comandos dados al
script, de tal forma que los comandos ejecutados son:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-n</span> 1 cubane.pdb ethane.pdb octane.pdb pentane.pdb propane.pdb</span></code></pre>
</div>
<p>El shell no expande <code>'*.pdb'</code> porque está entre comillas.
Como tal, el primer argumento del script es <code>'*.pdb'</code> que se
expande dentro del script por <code>head</code> y <code>tail</code>.</p>
</div>
</div>
</div>
</div>
<div id="buscar-el-archivo-más-largo-con-una-extensión-dada" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="buscar-el-archivo-más-largo-con-una-extensión-dada" class="callout-inner">
<h3 class="callout-title">Buscar el archivo más largo con una extensión dada</h3>
<div class="callout-content">
<p>Escribe un script de shell llamado <code>longest.sh</code> que tome
como argumentos el nombre de un directorio y una extensión de fichero, e
imprima el nombre del fichero con más líneas en ese directorio con esa
extensión. Por ejemplo</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> bash longest.sh shell-lesson-data/exercise-data/alkanes pdb</span></code></pre>
</div>
<p>imprimiría el nombre del fichero <code>.pdb</code> en
<code>shell-lesson-data/exercise-data/alkanes</code> que tiene más
líneas.</p>
<p>No dude en probar su script en otro directorio, por ejemplo</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> bash longest.sh shell-lesson-data/exercise-data/writing txt</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># Shell script which takes two arguments:</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="co">#    1. a directory name</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="co">#    2. a file extension</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="co"># and prints the name of the file in that directory</span></span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="co"># with the most lines which matches the file extension.</span></span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$1</span>/<span class="pp">*</span>.<span class="va">$2</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span> <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 2 <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> 1</span></code></pre>
</div>
<p>La primera parte del proceso, <code>wc -l $1/*.$2 | sort -n</code>,
cuenta las líneas de cada fichero y las ordena numéricamente (la mayor
en último lugar). Cuando hay más de un fichero, <code>wc</code> también
genera una línea de resumen final, que da el número total de líneas de
<em>todos</em> los ficheros. Usamos <code>tail -n 2 | head -n 1</code>
para desechar esta última línea.</p>
<p>Con <code>wc -l $1/*.$2 | sort -n | tail -n 1</code> veremos la línea
de resumen final: podemos construir nuestro pipeline por partes para
estar seguros de que entendemos la salida.</p>
</div>
</div>
</div>
</div>
<div id="comprensión-de-lectura-de-guiones" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="comprensión-de-lectura-de-guiones" class="callout-inner">
<h3 class="callout-title">Comprensión de lectura de guiones</h3>
<div class="callout-content">
<p>Para esta pregunta, considere de nuevo el directorio
<code>shell-lesson-data/exercise-data/alkanes</code>. Este contiene un
número de archivos <code>.pdb</code> además de cualquier otro archivo
que pueda haber creado. Explique qué haría cada uno de los tres scripts
siguientes al ejecutarse como <code>bash script1.sh *.pdb</code>,
<code>bash script2.sh *.pdb</code> y <code>bash script3.sh *.pdb</code>
respectivamente.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Script 1</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="bu">echo</span> <span class="pp">*</span>.<span class="pp">*</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="co"># Script 2</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="va">$1</span> <span class="va">$2</span> <span class="va">$3</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>    <span class="fu">cat</span> <span class="va">$filename</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="co"># Script 3</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$@</span>.pdb</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Soluciones
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>En cada caso, el shell expande el comodín en <code>*.pdb</code> antes
de pasar la lista resultante de nombres de archivo como argumentos al
script.</p>
<p>El script 1 imprimiría una lista de todos los archivos que contienen
un punto en su nombre. Los argumentos pasados al script no se utilizan
realmente en ninguna parte del script.</p>
<p>Script 2 imprimiría el contenido de los 3 primeros ficheros con
extensión <code>.pdb</code>. <code>$1</code>, <code>$2</code>, y
<code>$3</code> se refieren al primer, segundo y tercer argumento
respectivamente.</p>
<p>Script 3 imprimiría todos los argumentos del script (es decir, todos
los archivos <code>.pdb</code>), seguidos de
<code>.pdb</code>.<code>$@</code> se refiere a <em>todos</em> los
argumentos dados a un script de shell.</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cubane.pdb ethane.pdb methane.pdb octane.pdb pentane.pdb propane.pdb.pdb</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="scripts-de-depuración" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="scripts-de-depuración" class="callout-inner">
<h3 class="callout-title">Scripts de depuración</h3>
<div class="callout-content">
<p>Suponga que ha guardado el siguiente script en un archivo llamado
<code>do-errors.sh</code> en el directorio
<code>north-pacific-gyre</code> de Nelle:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="co"># Calculate stats for data files.</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="cf">for</span> datafile <span class="kw">in</span> <span class="st">"</span><span class="va">$@</span><span class="st">"</span></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="cf">do</span></span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$datfile</span></span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>    <span class="fu">bash</span> goostats.sh <span class="va">$datafile</span> stats-<span class="va">$datafile</span></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a><span class="cf">done</span></span></code></pre>
</div>
<p>Cuando se ejecuta desde el directorio
<code>north-pacific-gyre</code>:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> bash do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code></pre>
</div>
<p>la salida está en blanco. Para averiguar por qué, vuelva a ejecutar
el script utilizando la opción <code>-x</code>:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> bash <span class="at">-x</span> do-errors.sh NENE<span class="pp">*</span>A.txt NENE<span class="pp">*</span>B.txt</span></code></pre>
</div>
<p>¿Qué muestra la salida? ¿Qué línea es la responsable del error?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Solución
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>La opción <code>-x</code> hace que <code>bash</code> se ejecute en
modo depuración. Esto imprime cada comando a medida que se ejecuta, lo
que le ayudará a localizar errores. En este ejemplo, podemos ver que
<code>echo</code> no imprime nada. Hemos cometido un error tipográfico
en el nombre de la variable de bucle, y la variable <code>datfile</code>
no existe, por lo que devuelve una cadena vacía.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>Guarda comandos en archivos (normalmente llamados shell scripts)
para reutilizarlos.</li>
<li>
<code>bash [filename]</code> ejecuta los comandos guardados en un
archivo.</li>
<li>
<code>$@</code> se refiere a todos los argumentos de línea de
comandos de un script de shell.</li>
<li>
<code>$1</code>, <code>$2</code>, etc., se refieren al primer
argumento de la línea de comandos, al segundo argumento de la línea de
comandos, etc.</li>
<li>Coloque las variables entre comillas si los valores pueden contener
espacios.</li>
<li>Dejar que los usuarios decidan qué archivos procesar es más flexible
y coherente con los comandos integrados de Unix.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-07-find"><p>Content from <a href="07-find.html">Finding Things</a></p>
<hr>
<p>Última actualización: 2024-09-19 |

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/episodes/07-find.md" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 45 minutos</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul>
<li>¿Cómo puedo encontrar archivos?</li>
<li>¿Cómo puedo encontrar cosas en los archivos?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<ul>
<li>Utilice <code>grep</code> para seleccionar líneas de archivos de
texto que coincidan con patrones simples.</li>
<li>Utilice <code>find</code> para buscar archivos y directorios cuyos
nombres coincidan con patrones simples.</li>
<li>Utilizar la salida de un comando como argumento(s) de otro
comando.</li>
<li>Explique qué se entiende por archivos “de texto” y “binarios”, y por
qué muchas herramientas habituales no gestionan bien estos últimos.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Del mismo modo que muchos de nosotros utilizamos ahora “Google” como
verbo que significa “encontrar”, los programadores de Unix utilizan a
menudo la palabra “grep”. grep” es una contracción de “global/regular
expression/print”, una secuencia de operaciones habitual en los primeros
editores de texto de Unix. También es el nombre de un programa de línea
de comandos muy útil.</p>
<p><code>grep</code> encuentra e imprime líneas en archivos que
coinciden con un patrón. Para nuestros ejemplos, utilizaremos un archivo
que contiene tres haiku tomados de un <a href="https://web.archive.org/web/19991201042211/http://salon.com/21st/chal/1998/01/26chal.html" class="external-link">concurso
de 1998</a> en la revista <em>Salon</em> (Créditos a los autores Bill
Torcaso, Howard Korder y Margaret Segall, respectivamente. Ver Haiku
Error Messsages archivados <a href="https://web.archive.org/web/20000310061355/http://www.salon.com/21st/chal/1998/02/10chal2.html" class="external-link">Página
1</a> y <a href="https://web.archive.org/web/20000229135138/http://www.salon.com/21st/chal/1998/02/10chal3.html" class="external-link">Página
2</a> .). Para este conjunto de ejemplos, vamos a trabajar en el
subdirectorio de escritura:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> cd Desktop/shell-lesson-data/exercise-data/writing</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">$</span> cat haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen
Is not the true Tao, until
You bring fresh toner.

With searching comes loss
and the presence of absence:
"My Thesis" not found.

Yesterday it worked
Today it is not working
Software is like that.</code></pre>
</div>
<p>Busquemos líneas que contengan la palabra “no”:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> grep not haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Is not the true Tao, until
"My Thesis" not found
Today it is not working</code></pre>
</div>
<p>Aquí, <code>not</code> es el patrón que estamos buscando. El comando
grep busca en el fichero las coincidencias con el patrón especificado.
Para utilizarlo, escriba <code>grep</code>, a continuación el patrón que
estamos buscando y, por último, el nombre del archivo (o archivos) en el
que estamos buscando.</p>
<p>La salida son las tres líneas del fichero que contienen las letras
“no”.</p>
<p>Por defecto, grep busca un patrón distinguiendo entre mayúsculas y
minúsculas. Además, el patrón de búsqueda que hemos seleccionado no
tiene por qué formar una palabra completa, como veremos en el siguiente
ejemplo.</p>
<p>Busquemos el patrón: ‘El’.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> grep The haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen
"My Thesis" not found.</code></pre>
</div>
<p>Esta vez se muestran dos líneas que incluyen las letras “The”, una de
las cuales contiene nuestro patrón de búsqueda dentro de una palabra más
grande, “Thesis”.</p>
<p>Para restringir las coincidencias a las líneas que contengan la
palabra “La” sola, podemos dar a <code>grep</code> la opción
<code>-w</code>. Esto limitará las coincidencias a los límites de las
palabras.</p>
<p>Más adelante en esta lección, también veremos cómo podemos cambiar el
comportamiento de búsqueda de grep con respecto a su sensibilidad a
mayúsculas y minúsculas.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-w</span> The haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The Tao that is seen</code></pre>
</div>
<p>Tenga en cuenta que un “límite de palabra” incluye el principio y el
final de una línea, es decir, no sólo las letras rodeadas de espacios. A
veces no queremos buscar una sola palabra, sino una frase. También
podemos hacerlo con <code>grep</code> poniendo la frase entre
comillas.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-w</span> <span class="st">"is not"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Today it is not working</code></pre>
</div>
<p>Ya hemos visto que no es necesario entrecomillar las palabras
sueltas, pero es útil hacerlo cuando se buscan varias palabras. También
ayuda a distinguir más fácilmente entre el término o frase de búsqueda y
el fichero buscado. En el resto de los ejemplos utilizaremos
comillas.</p>
<p>Otra opción útil es <code>-n</code>, que numera las líneas que
coinciden:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="st">"it"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>5:With searching comes loss
9:Yesterday it worked
10:Today it is not working</code></pre>
</div>
<p>Aquí, podemos ver que las líneas 5, 9 y 10 contienen las letras
“it”.</p>
<p>Podemos combinar opciones (es decir, banderas) como hacemos con otros
comandos Unix. Por ejemplo, busquemos las líneas que contienen la
palabra ‘the’. Podemos combinar la opción <code>-w</code> para encontrar
las líneas que contienen la palabra ‘the’ y <code>-n</code> para numerar
las líneas que coinciden:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2:Is not the true Tao, until
6:and the presence of absence:</code></pre>
</div>
<p>Ahora queremos utilizar la opción <code>-i</code> para que nuestra
búsqueda no distinga entre mayúsculas y minúsculas:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="at">-i</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1:The Tao that is seen
2:Is not the true Tao, until
6:and the presence of absence:</code></pre>
</div>
<p>Ahora, queremos utilizar la opción <code>-v</code> para invertir
nuestra búsqueda, es decir, queremos que aparezcan las líneas que no
contienen la palabra ‘the’.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-n</span> <span class="at">-w</span> <span class="at">-v</span> <span class="st">"the"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1:The Tao that is seen
3:You bring fresh toner.
4:
5:With searching comes loss
7:"My Thesis" not found.
8:
9:Yesterday it worked
10:Today it is not working
11:Software is like that.</code></pre>
</div>
<p>Si utilizamos la opción <code>-r</code> (recursivo),
<code>grep</code> puede buscar un patrón recursivamente a través de un
conjunto de ficheros en subdirectorios.</p>
<p>Busquemos recursivamente <code>Yesterday</code> en el directorio
<code>shell-lesson-data/exercise-data/writing</code>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-r</span> Yesterday .</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./LittleWomen.txt:"Yesterday, when Aunt was asleep and I was trying to be as still as a
./LittleWomen.txt:Yesterday at dinner, when an Austrian officer stared at us and then
./LittleWomen.txt:Yesterday was a quiet day spent in teaching, sewing, and writing in my
./haiku.txt:Yesterday it worked</code></pre>
</div>
<p><code>grep</code> tiene muchas otras opciones. Para saber cuáles son,
podemos escribir</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Usage: grep [OPTION]... PATTERN [FILE]...
Search for PATTERN in each FILE or standard input.
PATTERN is, by default, a basic regular expression (BRE).
Example: grep -i 'hello world' menu.h main.c

Regexp selection and interpretation:
  -E, --extended-regexp     PATTERN is an extended regular expression (ERE)
  -F, --fixed-strings       PATTERN is a set of newline-separated fixed strings
  -G, --basic-regexp        PATTERN is a basic regular expression (BRE)
  -P, --perl-regexp         PATTERN is a Perl regular expression
  -e, --regexp=PATTERN      use PATTERN for matching
  -f, --file=FILE           obtain PATTERN from FILE
  -i, --ignore-case         ignore case distinctions
  -w, --word-regexp         force PATTERN to match only whole words
  -x, --line-regexp         force PATTERN to match only whole lines
  -z, --null-data           a data line ends in 0 byte, not newline

Miscellaneous:
...        ...        ...</code></pre>
</div>
<div id="usando-grep" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="usando-grep" class="callout-inner">
<h3 class="callout-title">Usando <code>grep</code>
</h3>
<div class="callout-content">
<p>¿Qué comando daría como resultado la siguiente salida?</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>and the presence of absence:</code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>grep "of" haiku.txt</code></li>
<li><code>grep -E "of" haiku.txt</code></li>
<li><code>grep -w "of" haiku.txt</code></li>
<li><code>grep -i "of" haiku.txt</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solución
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>La respuesta correcta es 3, porque la opción <code>-w</code> sólo
busca coincidencias con palabras completas. Las otras opciones también
coinciden con “de” cuando forma parte de otra palabra.</p>
</div>
</div>
</div>
</div>
<div id="comodines" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comodines" class="callout-inner">
<h3 class="callout-title">Comodines</h3>
<div class="callout-content">
<p>El verdadero poder de <code>grep</code> no proviene de sus opciones,
sino del hecho de que los patrones pueden incluir comodines. (El nombre
técnico para éstos es <strong>expresiones regulares</strong>, que es lo
que significa la “re” en “grep”) Las expresiones regulares son complejas
y potentes; si quieres hacer búsquedas complejas, consulta la lección en
<a href="https://librarycarpentry.org/lc-data-intro/01-regular-expressions.html" class="external-link">nuestro
sitio web</a>. Como muestra, podemos encontrar líneas que tengan una ‘o’
en la segunda posición de la siguiente manera:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-E</span> <span class="st">"^.o"</span> haiku.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>You bring fresh toner.
Today it is not working
Software is like that.</code></pre>
</div>
<p>Utilizamos la opción <code>-E</code> y ponemos el patrón entre
comillas para evitar que el shell intente interpretarlo. (Si el patrón
contuviera un <code>*</code>, por ejemplo, el shell intentaría
expandirlo antes de ejecutar <code>grep</code>) La <code>^</code> en el
patrón ancla la coincidencia al inicio de la línea. <code>.</code>
coincide con un único carácter (igual que <code>?</code> en el
intérprete de comandos), mientras que <code>o</code> coincide con una
‘o’ real.</p>
</div>
</div>
</div>
<div id="seguimiento-de-una-especie" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="seguimiento-de-una-especie" class="callout-inner">
<h3 class="callout-title">Seguimiento de una especie</h3>
<div class="callout-content">
<p>Leah tiene varios cientos de archivos de datos guardados en un
directorio, cada uno de ellos con el siguiente formato:</p>
<pre class="source"><code>2012-11-05,deer,5
2012-11-05,rabbit,22
2012-11-05,raccoon,7
2012-11-06,rabbit,19
2012-11-06,deer,2
2012-11-06,fox,4
2012-11-07,rabbit,16
2012-11-07,bear,1</code></pre>
<p>Quiere escribir una secuencia de comandos que tome una especie como
primer argumento de la línea de comandos y un directorio como segundo
argumento. El script debe devolver un fichero llamado
<code>&lt;species&gt;.txt</code> que contenga una lista de fechas y el
número de esa especie observada en cada fecha. Por ejemplo, usando los
datos mostrados arriba, <code>rabbit.txt</code> contendría:</p>
<pre class="source"><code>2012-11-05,22
2012-11-06,19
2012-11-07,16</code></pre>
<p>A continuación, cada línea contiene un comando individual, o tubería.
Ordena su secuencia en un comando para lograr el objetivo de Leah:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span> : <span class="at">-f</span> 2</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="op">&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="kw">|</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-w</span> <span class="va">$1</span> <span class="at">-r</span> <span class="va">$2</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="kw">|</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="va">$1</span><span class="ex">.txt</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="fu">cut</span> <span class="at">-d</span> , <span class="at">-f</span> 1,3</span></code></pre>
</div>
<p>Sugerencia: utilice <code>man grep</code> para buscar cómo grep texto
recursivamente en un directorio y <code>man cut</code> para seleccionar
más de un campo en una línea.</p>
<p>Un ejemplo de este tipo de archivo se proporciona en
<code>shell-lesson-data/exercise-data/animal-counts/animals.csv</code></p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solución
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<pre class="source"><code>grep -w $1 -r $2 | cut -d : -f 2 | cut -d , -f 1,3 &gt; $1.txt</code></pre>
<p>En realidad, puedes intercambiar el orden de los dos comandos de
corte y seguirá funcionando. En la línea de comandos, prueba a cambiar
el orden de los comandos de corte, y echa un vistazo a la salida de cada
paso para ver por qué es así.</p>
<p>Llamarías al script anterior de la siguiente manera:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> bash count-species.sh bear .</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="mujercitas" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="mujercitas" class="callout-inner">
<h3 class="callout-title">Mujercitas</h3>
<div class="callout-content">
<p>Tú y tu amiga, que acabáis de terminar de leer <em>Mujercitas</em> de
Louisa May Alcott, estáis discutiendo. De las cuatro hermanas del libro,
Jo, Meg, Beth y Amy, tu amiga cree que Jo es la más mencionada. Tú, sin
embargo, estás segura de que fue Amy. Por suerte, tienes un fichero
<code>LittleWomen.txt</code> que contiene el texto completo de la novela
(<code>shell-lesson-data/exercise-data/writing/LittleWomen.txt</code>).
Utilizando un bucle <code>for</code>, ¿cómo tabularías el número de
veces que se menciona a cada una de las cuatro hermanas?</p>
<p>Sugerencia: una solución puede emplear los comandos <code>grep</code>
y <code>wc</code> y un <code>|</code>, mientras que otra puede utilizar
las opciones <code>grep</code>. A menudo hay más de una forma de
resolver una tarea de programación, por lo que se suele elegir una
solución concreta basándose en una combinación de rendimiento del
resultado correcto, elegancia, legibilidad y velocidad.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Soluciones
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<pre class="source"><code>for sis in Jo Meg Beth Amy
do
    echo $sis:
    grep -ow $sis LittleWomen.txt | wc -l
done</code></pre>
<p>Solución alternativa ligeramente inferior:</p>
<pre class="source"><code>for sis in Jo Meg Beth Amy
do
    echo $sis:
    grep -ocw $sis LittleWomen.txt
done</code></pre>
<p>Esta solución es inferior porque <code>grep -c</code> sólo informa
del número de líneas coincidentes. El número total de coincidencias
informado por este método será menor si hay más de una coincidencia por
línea.</p>
<p>Los observadores más perspicaces se habrán dado cuenta de que los
nombres de los personajes a veces aparecen en mayúsculas en los títulos
de los capítulos (por ejemplo, “MEG GOES TO VANITY FAIR”). Si quiere
contarlos también, puede añadir la opción <code>-i</code> para no
distinguir entre mayúsculas y minúsculas (aunque en este caso no afecta
a la respuesta sobre qué hermana se menciona con más frecuencia).</p>
</div>
</div>
</div>
</div>
<p>Mientras que <code>grep</code> busca líneas en ficheros, el comando
<code>find</code> busca ficheros en sí. De nuevo, tiene muchas opciones;
para mostrar cómo funcionan las más simples, usaremos el árbol de
directorios <code>shell-lesson-data/exercise-data</code> que se muestra
a continuación.</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
├── animal-counts/
│   └── animals.csv
├── creatures/
│   ├── basilisk.dat
│   ├── minotaur.dat
│   └── unicorn.dat
├── numbers.txt
├── alkanes/
│   ├── cubane.pdb
│   ├── ethane.pdb
│   ├── methane.pdb
│   ├── octane.pdb
│   ├── pentane.pdb
│   └── propane.pdb
└── writing/
    ├── haiku.txt
    └── LittleWomen.txt</code></pre>
</div>
<p>El directorio <code>exercise-data</code> contiene un fichero,
<code>numbers.txt</code> y cuatro directorios:
<code>animal-counts</code>, <code>creatures</code>, <code>alkanes</code>
y <code>writing</code> que contienen varios ficheros.</p>
<p>Para nuestro primer comando, ejecutemos <code>find .</code> (recuerde
ejecutar este comando desde la carpeta
<code>shell-lesson-data/exercise-data</code>).</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> find .</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">basilisk.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">unicorn.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">minotaur.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span><span class="op">/</span><span class="va">animals.csv</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">ethane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">propane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">octane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">pentane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">methane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">cubane.pdb</span></span></code></pre>
</div>
<p>Como siempre, <code>.</code> por sí solo significa el directorio de
trabajo actual, que es donde queremos que empiece nuestra búsqueda. la
salida de <code>find</code> son los nombres de cada archivo
<strong>y</strong> directorio bajo el directorio de trabajo actual. Esto
puede parecer inútil al principio, pero <code>find</code> tiene muchas
opciones para filtrar la salida y en esta lección descubriremos algunas
de ellas.</p>
<p>La primera opción de nuestra lista es <code>-type d</code> que
significa ‘cosas que son directorios’. Efectivamente, la salida de
<code>find</code> son los nombres de los cinco directorios (incluido
<code>.</code>):</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-type</span> d</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span></span></code></pre>
</div>
<p>Observa que los objetos encontrados por <code>find</code> no aparecen
en ningún orden en particular. Si cambiamos <code>-type d</code> por
<code>-type f</code>, obtendremos un listado de todos los ficheros:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-type</span> f</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">basilisk.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">unicorn.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">creatures</span><span class="op">/</span><span class="va">minotaur.dat</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">animal</span><span class="op">-</span><span class="va">counts</span><span class="op">/</span><span class="va">animals.csv</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">ethane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">propane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">octane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">pentane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">methane.pdb</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">alkanes</span><span class="op">/</span><span class="va">cubane.pdb</span></span></code></pre>
</div>
<p>Ahora probemos a buscar por nombre:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span></code></pre>
</div>
<p>Esperábamos que encontrara todos los archivos de texto, pero sólo
imprime <code>./numbers.txt</code>. El problema es que el shell expande
caracteres comodín como <code>*</code> <em>antes</em> de que se ejecuten
los comandos. Dado que <code>*.txt</code> en el directorio actual se
expande a <code>./numbers.txt</code>, el comando que realmente
ejecutamos fue:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> numbers.txt</span></code></pre>
</div>
<p><code>find</code> hizo lo que le pedimos; sólo que le pedimos lo
equivocado.</p>
<p>Para conseguir lo que queremos, hagamos lo que hicimos con
<code>grep</code>: poner <code>*.txt</code> entre comillas para evitar
que el shell expanda el comodín <code>*</code>. De esta forma,
<code>find</code> obtiene realmente el patrón <code>*.txt</code>, no el
nombre de fichero expandido <code>numbers.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> find . <span class="at">-name</span> <span class="st">"*.txt"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">LittleWomen.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">writing</span><span class="op">/</span><span class="va">haiku.txt</span></span>
<span><span class="va">.</span><span class="op">/</span><span class="va">numbers.txt</span></span></code></pre>
</div>
<div id="listado-vs.-búsqueda" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="listado-vs.-búsqueda" class="callout-inner">
<h3 class="callout-title">Listado vs. Búsqueda</h3>
<div class="callout-content">
<p>Se puede hacer que <code>ls</code> y <code>find</code> hagan cosas
similares dadas las opciones adecuadas, pero en circunstancias normales,
<code>ls</code> lista todo lo que puede, mientras que <code>find</code>
busca cosas con ciertas propiedades y las muestra.</p>
</div>
</div>
</div>
<p>Como hemos dicho antes, el poder de la línea de comandos reside en la
combinación de herramientas. Ya hemos visto cómo hacerlo con las
tuberías; veamos otra técnica. Como acabamos de ver,
<code>find . -name "*.txt"</code> nos da una lista de todos los archivos
de texto dentro o debajo del directorio actual. ¿Cómo podemos combinarlo
con <code>wc -l</code> para contar las líneas de todos esos
ficheros?</p>
<p>La forma más sencilla es poner el comando <code>find</code> dentro de
<code>$()</code>:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.txt"</span><span class="va">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  21022 ./writing/LittleWomen.txt
     11 ./writing/haiku.txt
      5 ./numbers.txt
  21038 total</code></pre>
</div>
<p>Cuando el shell ejecuta este comando, lo primero que hace es ejecutar
lo que hay dentro de <code>$()</code>. Luego reemplaza la expresión
<code>$()</code> con la salida de ese comando. Como la salida de
<code>find</code> son los tres nombres de fichero
<code>./writing/LittleWomen.txt</code>,
<code>./writing/haiku.txt</code>, y <code>./numbers.txt</code>, el shell
construye el comando:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> ./writing/LittleWomen.txt ./writing/haiku.txt ./numbers.txt</span></code></pre>
</div>
<p>que es lo que queríamos. Esta expansión es exactamente lo que hace el
shell cuando expande comodines como <code>*</code> y <code>?</code>,
pero nos permite usar cualquier comando que queramos como nuestro propio
‘comodín’.</p>
<p>Es muy común utilizar <code>find</code> y <code>grep</code> a la vez.
El primero busca archivos que coincidan con un patrón; el segundo busca
líneas dentro de esos archivos que coincidan con otro patrón. Aquí, por
ejemplo, podemos encontrar archivos txt que contengan la palabra
“searching” buscando la cadena ‘searching’ en todos los archivos
<code>.txt</code> del directorio actual:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="st">"searching"</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.txt"</span><span class="va">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>./writing/LittleWomen.txt:sitting on the top step, affected to be searching for her book, but was
./writing/haiku.txt:With searching comes loss</code></pre>
</div>
<div id="emparejar-y-restar" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="emparejar-y-restar" class="callout-inner">
<h3 class="callout-title">Emparejar y restar</h3>
<div class="callout-content">
<p>La opción <code>-v</code> de <code>grep</code> invierte la
coincidencia de patrones, de modo que sólo se imprimen las líneas que
<em>no</em> coinciden con el patrón. Teniendo esto en cuenta, ¿cuál de
los siguientes comandos encontrará todos los ficheros .dat en
<code>creatures</code> excepto <code>unicorn.dat</code>? Una vez hayas
pensado tu respuesta, puedes probar los comandos en el directorio
<code>shell-lesson-data/exercise-data</code>.</p>
<ol style="list-style-type: decimal">
<li><code>find creatures -name "*.dat" | grep -v unicorn</code></li>
<li><code>find creatures -name *.dat | grep -v unicorn</code></li>
<li><code>grep -v "unicorn" $(find creatures -name "*.dat")</code></li>
<li>Ninguna de las anteriores.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Solución
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>La opción 1 es correcta. Poner la expresión de coincidencia entre
comillas evita que el shell la expanda, por lo que se pasa al comando
<code>find</code>.</p>
<p>La opción 2 también funciona en este caso porque el shell intenta
expandir <code>*.dat</code> pero no hay ficheros <code>*.dat</code> en
el directorio actual, así que la expresión comodín se pasa a
<code>find</code>. Encontramos esto por primera vez en el <a href="03-create.html">episodio 3</a>.</p>
<p>La opción 3 es incorrecta porque busca en el contenido de los
ficheros las líneas que no coinciden con “unicornio”, en lugar de buscar
en los nombres de los ficheros.</p>
</div>
</div>
</div>
</div>
<div id="archivos-binarios" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="archivos-binarios" class="callout-inner">
<h3 class="callout-title">Archivos binarios</h3>
<div class="callout-content">
<p>Nos hemos centrado exclusivamente en la búsqueda de patrones en
archivos de texto. ¿Y si sus datos están almacenados en imágenes, bases
de datos o cualquier otro formato?</p>
<p>Un puñado de herramientas amplían <code>grep</code> para manejar
algunos formatos que no son de texto. Pero un enfoque más generalizable
es convertir los datos en texto, o extraer los elementos similares al
texto de los datos. Por un lado, facilita las cosas sencillas. Por otro,
las cosas complejas suelen ser imposibles. Por ejemplo, es bastante
fácil escribir un programa que extraiga las dimensiones X e Y de
archivos de imagen para que <code>grep</code> juegue con ellas, pero
¿cómo escribirías algo para encontrar valores en una hoja de cálculo
cuyas celdas contuvieran fórmulas?</p>
<p>Una última opción es reconocer que el shell y el procesamiento de
texto tienen sus límites, y utilizar otro lenguaje de programación.
Cuando llegue el momento de hacerlo, no seas demasiado duro con el
shell. Muchos lenguajes de programación modernos han tomado prestadas
muchas ideas de él, y la imitación es también la forma más sincera de
elogio.</p>
</div>
</div>
</div>
<p>El shell de Unix es más antiguo que la mayoría de las personas que lo
utilizan. Ha sobrevivido tanto tiempo porque es uno de los entornos de
programación más productivos jamás creados, quizá incluso <em>el</em>
más productivo. Su sintaxis puede ser críptica, pero la gente que la
domina puede experimentar con diferentes comandos de forma interactiva,
y luego utilizar lo que han aprendido para automatizar su trabajo. Las
interfaces gráficas de usuario pueden ser más fáciles de usar al
principio, pero una vez aprendidas, la productividad del shell es
insuperable. Y como escribió Alfred North Whitehead en 1911, ‘La
civilización avanza ampliando el número de operaciones importantes que
podemos realizar sin pensar en ellas’</p>
<div id="find-pipeline-comprensión-lectora" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="find-pipeline-comprensión-lectora" class="callout-inner">
<h3 class="callout-title">
<code>find</code> Pipeline Comprensión
lectora</h3>
<div class="callout-content">
<p>Escriba un breve comentario explicativo para el siguiente script de
shell:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> <span class="va">$(</span><span class="fu">find</span> . <span class="at">-name</span> <span class="st">"*.dat"</span><span class="va">)</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Solución
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Buscar todos los archivos con extensión <code>.dat</code>
recursivamente desde el directorio actual</li>
<li>Cuente el número de líneas que contiene cada uno de estos
ficheros</li>
<li>Ordena numéricamente la salida del paso 2</li>
</ol>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<ul>
<li>
<code>find</code> encuentra archivos con propiedades específicas que
coinciden con patrones.</li>
<li>
<code>grep</code> selecciona líneas en archivos que coinciden con
patrones.</li>
<li>
<code>--help</code> es una opción soportada por muchos comandos
bash, y programas que pueden ser ejecutados desde dentro de Bash, para
mostrar más información sobre cómo usar estos comandos o programas.</li>
<li>
<code>man [command]</code> muestra la página del manual de un
comando determinado.</li>
<li>
<code>$([command])</code> inserta la salida de un comando en su
lugar.</li>
</ul>
</div>
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>Esta lección está sujeta al <a href="CODE_OF_CONDUCT.html">Código de Conducta</a></p>
        <p>

        <a href="https://github.com/swcarpentry/shell-novice/edit/main/README.md" class="external-link">Editar en GitHub</a>

	
        | <a href="https://github.com/swcarpentry/shell-novice/blob/main/CONTRIBUTING.md" class="external-link">Contribuir</a>
        | <a href="https://github.com/swcarpentry/shell-novice/" class="external-link">Fuente</a></p>
				<p><a href="https://github.com/swcarpentry/shell-novice/blob/main/CITATION" class="external-link">Cita</a> | <a href="mailto:team@carpentries.org">Contacto</a> | <a href="https://carpentries.org/about/" class="external-link">Acerca de</a></p>
			</div>
			<div class="col-md-6">

        <p>Materiales bajo la <a href="LICENSE.html">CC-BY 4.0</a> por las autoras</p>

        <p>Plantilla compartida bajo <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> por <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construido con <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a> y <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Volver al inicio"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Volver</span> al inicio
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://swcarpentry.github.io/shell-novice/instructor/aio.html",
  "inLanguage": "es",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Todo en una sola página",
  "creativeWorkStatus": "active",
  "url": "https://swcarpentry.github.io/shell-novice/instructor/aio.html",
  "identifier": "https://swcarpentry.github.io/shell-novice/instructor/aio.html",
  "dateCreated": "2014-10-22",
  "dateModified": "2024-12-03",
  "datePublished": "2024-12-03"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

